<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lujianyun06.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="记录学习生活，力求每日进步">
<meta property="og:type" content="website">
<meta property="og:title" content="CloudLander&#39;s Blog">
<meta property="og:url" content="https://lujianyun06.github.io/index.html">
<meta property="og:site_name" content="CloudLander&#39;s Blog">
<meta property="og:description" content="记录学习生活，力求每日进步">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="CloudLander~Lu">
<meta property="article:tag" content="java">
<meta property="article:tag" content="后台开发">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lujianyun06.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>CloudLander's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">CloudLander's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">13</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">41</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/05/07/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/07/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" class="post-title-link" itemprop="url">代码整洁之道</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-05-07 14:47:28 / 修改时间：20:36:34" itemprop="dateCreated datePublished" datetime="2020-05-07T14:47:28+08:00">2020-05-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">读书笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>代码质量与整洁度成正比<br>全员生产维护（TPM 一种质量保证升段）：5S：</p>
<ul>
<li>整理（Seriri）：即组织</li>
<li>整顿（Seiton）：所谓整齐</li>
<li>清楚（Seiso）：所谓清洁</li>
<li>清洁（Seiketsu）：所谓标准化</li>
<li>身美（Shitsuke）：所谓纪律（自律）</li>
</ul>
<p><strong>小处的东西往往能影响大局，比如简单的缩进风格对于软件质量的提高不逊于架构、编程语言等高级概念</strong></p>
<p>衡量代码质量的唯一有效标准：WTF/min （笑）</p>
<h1 id="整洁代码"><a href="#整洁代码" class="headerlink" title="整洁代码"></a>整洁代码</h1><p>认为机器自动生成代码代替人工是不科学的，代码永存</p>
<p>勒布朗法则：稍后等于永不</p>
<p><strong>整洁的代码只做好一件事。它简单直接，从不隐藏设计者的意图，充满了干净利落的抽象和直截了当的控制语句</strong></p>
<p>代码要尽量少，越小越好</p>
<p><strong>童子军军规：让营地比你来时更干净</strong></p>
<h1 id="有意义的命名"><a href="#有意义的命名" class="headerlink" title="有意义的命名"></a>有意义的命名</h1><p>一旦发现有更好的名称，就换掉旧的。</p>
<p>不要用xxList来指称一组东西，除非它真的是List类型，List一次有特殊意义，如果这个容器并非真的是个List，就会引起错误的判断，所以用XXGroup，或复数形式会更好，即便容器就是个List，最好也别在名称中写出容器类型名。</p>
<p>提防使用不同之处较小的名称，如XYZContorllerForEffcientHandlingOfStrings和XYZContorllerForEffcientStorageOfStrings</p>
<p>不要用误导性名称，如小写字母l和大写字母O作为变量名，看起来像数组1和0</p>
<p>如果只为满足编译器和解释器而改写代码就会制造麻烦，比如同一作用范围内两样不同的东西不能重名，可能会随手改变其中一个名称，或以错误的拼写充数，结果就是出现在更正拼写错误后编译器出错（如class已有他用，就给一个变量命名为klass，相当可怕的做法）</p>
<p>以数字系列命名（a1，a2.。。aN）这样的名称纯属误导。</p>
<p>废话都是冗余，variable一词永远不该出现在变量中。Table一词永远不该出现在表名中。NameString不会比Name更好（难道Name会是一个浮点数？）如果缺少明确约定，变量moneyAmount和money没区别，customerInfo和customer没区别，accountData和account没区别，theMessage和message没区别。要区分名称，就要以读者能鉴别不同之处的方式来区分。</p>
<h2 id="使用可搜索的名称"><a href="#使用可搜索的名称" class="headerlink" title="使用可搜索的名称"></a>使用可搜索的名称</h2><p>单字母名称仅用于短方法中的本地变量，名称长短应该与其作用域大小相对应。</p>
<h2 id="避免使用编码"><a href="#避免使用编码" class="headerlink" title="避免使用编码"></a>避免使用编码</h2><p>把类型或作用域编进名称里，徒然增加了解码的负担。</p>
<ul>
<li>java变量是强类型的，不需要匈牙利标记法</li>
<li>不必用m_前缀来标明成员变量。应该把类和函数做的足够小，消除对成员前缀的需要。</li>
</ul>
<h2 id="类名"><a href="#类名" class="headerlink" title="类名"></a>类名</h2><p>类名和对象名应该是名词或名词短语，如Customer、WikiPage、Account、AddressParser。避免使用Manager、Processor、Data、Info这样的类名。类名不应该是动词。</p>
<h2 id="方法名"><a href="#方法名" class="headerlink" title="方法名"></a>方法名</h2><p>方法名应当是动词或动词短语，如postPayment、deletePage或save。属性访问器、修改器和断言应该根据其值命名，并依标准加上get、set、is前缀。</p>
<p>重载构造器时，使用描述了参数的静态工厂方法名通常好于构造器中直接传入意义不明的函数，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Complex f = Complex.FromRealNumber(<span class="number">23.0</span>);</span><br><span class="line">好于</span><br><span class="line">Complex f = <span class="keyword">new</span> Complex(<span class="number">23.0</span>);</span><br></pre></td></tr></table></figure>
<p>可以考虑将相应的构造器设置为private来强制使用这种命名手段。</p>
<h2 id="名称不要耍宝"><a href="#名称不要耍宝" class="headerlink" title="名称不要耍宝"></a>名称不要耍宝</h2><p>不要使用某一种文化特有的俚语</p>
<h2 id="每个概念对应一个词"><a href="#每个概念对应一个词" class="headerlink" title="每个概念对应一个词"></a>每个概念对应一个词</h2><p>给每个抽象概念选一个词，并且一以贯之。例如，fetch、retrieve、get给多个类中的同种方法命名是可怕的，最好就选一个用到底</p>
<h2 id="别用双关语"><a href="#别用双关语" class="headerlink" title="别用双关语"></a>别用双关语</h2><p>例如使用add，在多个类中都有add方法，该方法通过增加或连接两个现存值来获得新值。假设要写一个新类，其中有个方法，把单个参数放到群集中去，该把这个方法叫做add吗？这样做貌似和其他add方法保持一致，但实际上语义却不同。一个用insert或append之类的词，把该方法命名为add就是双关语了。</p>
<h2 id="使用解决方案领域名称"><a href="#使用解决方案领域名称" class="headerlink" title="使用解决方案领域名称"></a>使用解决方案领域名称</h2><h2 id="使用源自所涉问题领域的名称"><a href="#使用源自所涉问题领域的名称" class="headerlink" title="使用源自所涉问题领域的名称"></a>使用源自所涉问题领域的名称</h2><h2 id="添加有意义的语境"><a href="#添加有意义的语境" class="headerlink" title="添加有意义的语境"></a>添加有意义的语境</h2><h2 id="不要添加没用的语境"><a href="#不要添加没用的语境" class="headerlink" title="不要添加没用的语境"></a>不要添加没用的语境</h2><p>只有短名称足够清楚，就要把长名称好，别给名称添加不必要的语境</p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="短小"><a href="#短小" class="headerlink" title="短小"></a>短小</h2><p>函数第一规则是短小，第二规则是还要更短小。<br>函数20行封顶最佳</p>
<p>if、else、while语句等，其中的代码块应该只有一行。该行应该是一个函数调用语句，这样不但能保持函数短小，且块内调用的函数拥有较具说明性的名称。</p>
<h2 id="只做一件事"><a href="#只做一件事" class="headerlink" title="只做一件事"></a>只做一件事</h2><p>函数应该做一件事。做好这件事，只做这一件事。<br>要判断函数是否不止做了一件事，还有一个方法，就是看是否能再拆出一个函数，该函数不仅只是单纯地重新诠释其实现</p>
<h2 id="每个函数一个抽象层级"><a href="#每个函数一个抽象层级" class="headerlink" title="每个函数一个抽象层级"></a>每个函数一个抽象层级</h2><p>例如，getHtml位于较高抽象层，PathParser.render中间抽象层，StringBuilder.append低抽象层。<br>函数中混杂不同抽象层级往往让人迷惑，可能无法判断某个表达式是基础概念还是细节。</p>
<h3 id="自顶向下读代码：向下规则"><a href="#自顶向下读代码：向下规则" class="headerlink" title="自顶向下读代码：向下规则"></a>自顶向下读代码：向下规则</h3><p>我们想要让代码拥有自顶向下的阅读顺序，想要让每个函数后面都跟着位于下一个抽象层级的函数，这样一来，在查看函数列表时就能循抽象层级向下阅读了。</p>
<h2 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h2><p>写出短小的switch语句很难，不过还是能够确保每个switch都埋藏在比较低的抽象层级，而且用于不重复。<br>如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Money <span class="title">calculatePay</span><span class="params">(Employee e)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(e.type)&#123;</span><br><span class="line">        <span class="keyword">case</span> COMMISSONED:</span><br><span class="line">            <span class="keyword">return</span> caculateCommissionedPay(e);</span><br><span class="line">        <span class="keyword">case</span> HOURLY:</span><br><span class="line">            <span class="keyword">return</span> caculateHourlyPay(e);</span><br><span class="line">        <span class="keyword">case</span> SALARIED:</span><br><span class="line">            <span class="keyword">return</span> caculateSalariedPay(e);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidEmployeeType(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码问题：首先它太长，如果出现新雇员类型，还会变的更长。其次，他名下做了不止一件事，第三，它违反了单一职责原则。第四，它违反了开放闭合原则，每当添加新类型时，就必须修改之。</p>
<p>该问题的解决方案，是将switch语句埋到抽象工厂低下，不让任何人看到，该工厂使用switch语句为Employee的派生物创建适当的实体。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Employee <span class="title">makeEmployee</span><span class="params">(EmployeeRecord r)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> class EmployeeFactoryImpl implements EmployeeFactory</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Employee <span class="title">makeEmployee</span><span class="params">(EmployeeRecord r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(r.type)&#123;</span><br><span class="line">            <span class="keyword">case</span> COMMISSONED:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> ComissionedEmployee(r);</span><br><span class="line">            <span class="keyword">case</span> HOURLY:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> HourlyEmployee(r);</span><br><span class="line">            <span class="keyword">case</span> SALARIED:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> SalariedEmployee(r);</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> InvalidEmployeeType(e);    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于switch语句，推荐的规则是如果只出现一侧，用于创建多态对象，而且隐藏在某个继承关系中，在系统其它部分看不到，就还能接受，当然就事论事，有时也会部分或全部违反该规则</p>
<h2 id="使用描述性的名称"><a href="#使用描述性的名称" class="headerlink" title="使用描述性的名称"></a>使用描述性的名称</h2><p>沃德原则：如果每个例程都让你感到深合己意，那就是整洁代码</p>
<p>别害怕长名称。长而具有描述性的名称，要比短而令人费解的名称好。长而具有描述性的名称，要比描述性的长注释好。使用某种命名约定，让函数名称中的多个单词容易阅读，然后使用这些单词给函数取个能说清其功能的名称。</p>
<p>命名方式要保持一致。使用与模块名一脉相承的短语，名词和动词给函数命名。</p>
<h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><p>最理想的参数数量是0，其次是1，再次是2，应尽量避免3.有足够的理由才能使用三个以上参数。</p>
<p>标识参数丑陋不堪。向函数传入布尔值简直就是骇人听闻的做法。这样做，方法签名立刻变得复杂起来，宣布本函数不止做一件事，如果表示为true将会这样做，标识为false则会那样做。</p>
<p>如果函数看起来需要三个以上参数，就说明其中一些参数应该封装为类了</p>
<p>给函数取个好名字，能较好地解释函数的意图，以及参数的顺序和意图。对于一元函数，函数和参数应当形成一种非常良好的动词/名词对形式。例如write(name)</p>
<p>必须保证函数“只做一件事”，才能有效避免副作用。</p>
<p>函数要么做什么事，要么回答什么事，但二者不可兼得。函数应该修改某对象的状态，或是返回该对象的有关信息。两样都干会导致混乱。</p>
<p>使用异常代替返回错误码。如果这样做，错误处理代码就能从主路径代码中分离出来，得到简化<br><img src="evernotecid://EAE05BC5-92B7-4AC9-BB8E-7C274874456C/appyinxiangcom/10830318/ENResource/p7876" alt="4c8bf45524e5691088c803b01e63b20f.png"><br><img src="evernotecid://EAE05BC5-92B7-4AC9-BB8E-7C274874456C/appyinxiangcom/10830318/ENResource/p7878" alt="25b17f5755b4cb67da2d9fbf52326a01.png"></p>
<p>最好吧try-catch代码块从主体部分抽离处来，另外形成函数。</p>
<p>返回错误码通常暗示某处有个类或是枚举，定义了所有错误码。<br>这样的类就是一块依赖磁铁，其他许多类都得导入和使用它，当其枚举修改时，所有这些其他类都需要重新编译和部署。而使用异常代替错误码，新异常就可以从异常类派生出来，无需重新编译或重新部署。</p>
<p>尽量不要重复。重复可能是软件中一切邪恶的根源，许多原则和实践规则都是为控制与消除重复而创建。如数据库范式为了消灭数据重复而服务。OOP将代码集中到基类从而避免冗余。aop、cop（面向组件编程）多少也都是消除重复的一种策略。</p>
<p>只要函数保持短小，偶尔出现的return，break，continue语句没有坏处，甚至比单入单出原则更具有表达力。另一方面，goto只在大函数中才有道理，所以应该尽量避免使用。</p>
<p>写代码和写别的东西一样，先是想什么就写什么，然后再打磨它。初稿也许粗陋无序，就会斟酌推敲，直至满意。一开始都冗长而复杂，有太多缩进和嵌套循环。有过长的参数列表。名称是随意取得，也会有重复代码。然后打磨这些代码，分解函数，修改名称，消除重复。还会缩短和重新安置方法。有时还拆散类，同时保持测试通过。最后遵循规则组装好这些函数。<br><strong>并不是一开始就按照规则写函数。这没人做得到。</strong></p>
<h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><p>注释的恰当用法是弥补用代码表达意图时遭遇的失败。注释总数一种失败，我们总无法找到不用注释就能表达自我的方法，所以要有注释。<br>但注释会撒谎，只是存在的时间越久，就离其描述的代码越远，越来越变得错误，原因很简单，程序员不能坚持维护注释。</p>
<p>不准确的注释比没有注释坏的多。真实只在一处地方有：代码。只有代码能忠实地告诉你它做的事。尽管有时也需要注释，但我们也该花心思尽量减少注释量。</p>
<p>注释不能美化糟糕的代码。</p>
<p>有些注释是必须的，也是有利的，不过要记住，唯一真正好的注释是你想办法不去写的注释<br><strong>好的注释</strong></p>
<ul>
<li>法律信息</li>
<li>提供信息的注释</li>
<li>对意图的解释</li>
<li>阐释  即把某些晦涩难懂的参数或返回值的意义翻译为某种可读形式</li>
<li>警示 警告其他程序员会出现某种后果</li>
<li>TODO注释：在源码中放置要做的工作列表。</li>
<li>放大：注释可以用来放大某种看来不合理之物的重要性</li>
<li>公共API中的javadoc</li>
</ul>
<p><strong>坏注释：</strong></p>
<ul>
<li><p>喃喃自语</p>
</li>
<li><p>多余的注释</p>
</li>
<li><p>误导性注释</p>
</li>
<li><p>循规式注释：所谓每个函数都要有javadoc或每个变量都要有注释的规矩是愚蠢可笑的。</p>
</li>
<li><p>日志式注释</p>
</li>
<li><p>废话式注释</p>
</li>
<li><p>能用函数或变量时就别用注释。</p>
</li>
<li><p>位置标记</p>
</li>
<li><p>括号后面的注释<br>如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">   。。。</span><br><span class="line">   <span class="keyword">while</span>()&#123;</span><br><span class="line">    ...</span><br><span class="line">   &#125; <span class="comment">//while</span></span><br><span class="line">&#125;<span class="comment">//try</span></span><br><span class="line"><span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;<span class="comment">//catch</span></span><br></pre></td></tr></table></figure></li>
<li><p>归属与签名：用签名搞脏代码很不好，合适的位置是代码版本控制工具（如git）</p>
</li>
<li><p>注释掉的代码</p>
</li>
<li><p>html注释</p>
</li>
<li><p>非本地信息：例如别在本地注释的上下文环境中给出系统级的信息，注释应该保证描述了离它最近的代码</p>
</li>
<li><p>信息过多</p>
</li>
<li><p>不明显的联系</p>
</li>
<li><p>函数头：短函数不需要太多描述，选个好名字通常比写函数头注释好</p>
</li>
<li><p>范例</p>
</li>
</ul>
<h1 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h1><p><strong>沟通是专业开发者的头等大事（而不是“让代码工作”）</strong></p>
<h2 id="垂直格式"><a href="#垂直格式" class="headerlink" title="垂直格式"></a>垂直格式</h2><p>一般的源码文件不要超过500行，否则可以考虑拆分<br>每个空白行都是一条线索，标识出新的独立概念。比如方法之间就应该有一个空白行。</p>
<p>紧密相关的代码应该互相靠近。</p>
<h3 id="垂直距离"><a href="#垂直距离" class="headerlink" title="垂直距离"></a>垂直距离</h3><ul>
<li>变量声明：变量声明应尽可能靠近其使用位置。因为函数很短，本地变量应该在函数的顶部出现。</li>
<li>循环中的控制变量应该总是在循环语句中声明。</li>
<li>偶尔，在较长的函数中，变量可能在某个代码块顶部，或在循环之前声明。</li>
<li>实体变量应该在类的顶部声明(java的习惯)</li>
<li>相关函数：若某个函数调用了另一个，就应该把它们放到一起，而且调用者应该尽可能放到被调者的上面。</li>
<li>概念相关：概念相关的代码应该放到一起。相关性越强，彼此之间的距离就该越短：相关性应建立在直接依赖的基础上，如函数间调用，或者执行相似操作的一组函数也是相关性很高的（如共同的命名模式，执行同一基础任务的不同变种）</li>
</ul>
<h3 id="垂直顺序"><a href="#垂直顺序" class="headerlink" title="垂直顺序"></a>垂直顺序</h3><p>一般而言，被调用的函数应该放在执行调用的函数下面。最重要的概念应该先出来。</p>
<h2 id="水平格式"><a href="#水平格式" class="headerlink" title="水平格式"></a>水平格式</h2><p>一般来说，一行的上限为120个字符</p>
<p>空格字符可以强调其前面的运算符，如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xxx / yyy</span><br><span class="line">b*b - <span class="number">4</span>*a*c</span><br></pre></td></tr></table></figure>
<p>乘法因子之间没加空格，因为他们具有较高优先级，加减法运算符之间用空格隔开，因为其优先级较低。</p>
<p>现代语言可以用不对齐的声明和赋值，因为它们指出了重点。如果有较长的列表需要做对其处理，那么问题就是在列表的长度上而不是对齐上。（按正常的格式来即可）</p>
<p>缩进用来体现层级结构，有了缩进会使得程序更容易阅读，没有的话就会无法阅读。尽量不要违反缩进规则，即使是在短小的if，while中。</p>
<p>有时while或for语句的体为空，如果无法避免地使用，则要确保空范围体的缩进，用括号包围起来。不然很容易被while循环语句同一行末尾的分号所欺骗，除非把分号放到另一行再加以缩进。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">while</span>(xxx);  <span class="comment">//很容易忽略</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(xxx)&#123;</span><br><span class="line">&#125;  <span class="comment">//good</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(xxx)</span><br><span class="line">    ;  <span class="comment">//good</span></span><br></pre></td></tr></table></figure>

<h2 id="作者的格式规则"><a href="#作者的格式规则" class="headerlink" title="作者的格式规则"></a>作者的格式规则</h2><p>成员变量在最上面<br>构造函数<br>静态函数（根据调用关系排序，调用者在上，被调者在下）<br>成员函数（同上）<br>函数要尽可能短</p>
<h1 id="对象和数据结构"><a href="#对象和数据结构" class="headerlink" title="对象和数据结构"></a>对象和数据结构</h1><p>我们一般不愿暴露数据细节，更愿意以抽象形态表述数据，这并不只是用接口或getter、setter就万事大吉。要以最好的方式呈现某个对象包含的数据，需要做严肃的思考</p>
<h2 id="数据、对象和反对称性"><a href="#数据、对象和反对称性" class="headerlink" title="数据、对象和反对称性"></a>数据、对象和反对称性</h2><p>》过程式代码难以添加新数据结构，因为必须修改所有涉及到相关操作的函数。<br>（比如对圆形、矩形的面积计算工具类中，如果要添加新的类型数据结构，则必须要修改工具类中所有根据类型来操作的具体函数。但如果要添加新的功能函数很简单，只需在工具中增加该新函数即可）<br>》面向对象代码难以添加新函数，因为必须修改所有类。<br>（同样，如果所有的形状类型都继承基类，并且每个都重写了其操作函数，添加新类型是很容易的，只需要重写相应的基类函数即可，但如果要添加新的功能函数，就必须对每一个实现类都添加该函数的实现）</p>
<h2 id="德墨忒尔律（The-Law-of-Demeter）"><a href="#德墨忒尔律（The-Law-of-Demeter）" class="headerlink" title="德墨忒尔律（The Law of Demeter）"></a>德墨忒尔律（The Law of Demeter）</h2><p>该规律认为，模块不应了解它所操作对象的内部情形。对象隐藏数据，暴露操作。这意味着对象不应通过存取器暴露其内部结构，因为这样更像是暴露而非隐藏其内部结构。<br>德墨忒尔律认为，类C的方法f只应该调用以下对象的方法：</p>
<ul>
<li>C</li>
<li>由f创建的对象</li>
<li>作为参数传递给f的对象</li>
<li>由C的实体变量持有的对象<br>方法不应该调用由任何函数返回的对象的方法，即：只跟朋友谈话，不与陌生人谈话<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();</span><br><span class="line"></span><br><span class="line"><span class="comment">//上述代码违反了德墨忒尔律，因为它调用了getOptions()返回值的getScratchDir()函数，又调用了getScratchDir()返回值的getAbsolutePath()函数。</span></span><br></pre></td></tr></table></figure></li>
<li><em>常用的调用链模式明显违反了该律，但却带来了编码上极大的方便，因此对待这种规律也得辩证去看，不能一味死守教条。没有通用的规律，只有具体的场景*</em></li>
</ul>
<h2 id="数据传送对象"><a href="#数据传送对象" class="headerlink" title="数据传送对象"></a>数据传送对象</h2><p>只有一个公共变量，没有函数的类叫做数据传送对象（DTO）。更常见的是bean结构，它具有赋值器和取值器操作的私有变量。（一般的javabean）</p>
<h1 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h1><h2 id="使用异常而非返回码"><a href="#使用异常而非返回码" class="headerlink" title="使用异常而非返回码"></a>使用异常而非返回码</h2><h2 id="先写try-catch-finally语句"><a href="#先写try-catch-finally语句" class="headerlink" title="先写try-catch-finally语句"></a>先写try-catch-finally语句</h2><p>在编写可能抛出异常的代码时，最好先写出try-catch-finally语句，这能帮你定义代码的用户应该期待什么，无论代码块中执行的代码出什么错。</p>
<h2 id="使用不可检查异常"><a href="#使用不可检查异常" class="headerlink" title="使用不可检查异常"></a>使用不可检查异常</h2><p>可检查异常的代价是违反开放封闭原则。如果在方法中抛出可检查异常，而catch语句在三个层级之上，就意味着对软件中较低层级的修改，都将波及到高层级的签名。修改好的模块必须重新构建、发布，即使他们自身所关注的任何东西都没改动过。</p>
<h2 id="给出异常发生的环境说明"><a href="#给出异常发生的环境说明" class="headerlink" title="给出异常发生的环境说明"></a>给出异常发生的环境说明</h2><p>应该创建信息充分的错误消息，并和异常一起传递出去，包括失败的操作和失败类型，而不应该仅仅是堆栈踪迹。</p>
<h2 id="依调用者需要定义异常类"><a href="#依调用者需要定义异常类" class="headerlink" title="依调用者需要定义异常类"></a>依调用者需要定义异常类</h2><p>打包：当打包一个第三方API，就降低了对它的依赖，未来可以不太痛苦地改用其他代码库，也不用绑死在某个特定厂商的API设计上。</p>
<p>对于代码的某个特定区域，单一异常类通常可行。伴随异常发送出来的信息能够区分不同错误。一个想要捕获某个异常，并且放过其他异常，就使用不同的异常类。</p>
<h2 id="别返回null值"><a href="#别返回null值" class="headerlink" title="别返回null值"></a>别返回null值</h2><blockquote>
<p>特例模式：创建一个类或配置一个对象，用来处理特例，由底层来处理特例，客户代码就不用应付异常行为了。异常行为被封装到特例对象中。</p>
</blockquote>
<p>如果打算在代码中返回null值，不如抛出异常，或是返回特例对象。如果在调用某个第三方API中可能返回null值的方法，可以考虑用新方法打包这个方法，在新方法中抛出异常或返回特例对象。</p>
<h2 id="别传递null值"><a href="#别传递null值" class="headerlink" title="别传递null值"></a>别传递null值</h2><p>除非API要求传递null，否则要尽可能避免传递null值。</p>
<h1 id="边界"><a href="#边界" class="headerlink" title="边界"></a>边界</h1><p>尽量避免把容器（或在边界上的其他接口）在系统中传递。把这种边界接口留在类或近亲类中，避免从公共API中返回边界接口，或将边界接口作为参数传递给公共API。</p>
<h2 id="学习性测试"><a href="#学习性测试" class="headerlink" title="学习性测试"></a>学习性测试</h2><p>学习第三方代码很难，整合第三方代码也很难，同时做这两件事难上加难。而如果采用不同的做法，不要在生产代码中实验新东西，而是编写测试来浏览和理解第三方代码，就有更好的理解效果。</p>
<blockquote>
<p>不要一上来就看源码，或者整合源码。多写测试程序，去发现不同的用法，发现问题，有了问题后再以问题为导向去看源码中的解决方法，否则很容易就陷入到无穷无尽的“代码海”中</p>
</blockquote>
<h2 id="使用尚不存在的代码"><a href="#使用尚不存在的代码" class="headerlink" title="使用尚不存在的代码"></a>使用尚不存在的代码</h2><p>如果有的API还没设计出来，则我们可以先自己设计一套fake的，然后来根据它设计，一旦真实的设计出来后，就可以编写适配器来跨界，这样原先的逻辑几乎不用改动。所做的工作只是适配器</p>
<h2 id="整洁的边界"><a href="#整洁的边界" class="headerlink" title="整洁的边界"></a>整洁的边界</h2><h1 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h1><blockquote>
<p>TDD:测试驱动开发</p>
</blockquote>
<h2 id="TDD三定律"><a href="#TDD三定律" class="headerlink" title="TDD三定律"></a>TDD三定律</h2><ol>
<li>在编写不能通过的单元测试前，不可编写生产代码。</li>
<li>只可编写刚好无法通过的单元测试，不能编译也算不通过</li>
<li>只可编写刚好足以通过当前失败测试的生产代码<br>这三条定律将你限制在大概30s一个的循环中。测试和生成代码一起编写，测试只比生产代码早写几秒中</li>
</ol>
<h2 id="保持测试整洁"><a href="#保持测试整洁" class="headerlink" title="保持测试整洁"></a>保持测试整洁</h2><p>测试必须随生产代码的演进而修改。测试越脏，就越难修改，测试代码越缠结，你就越有可能话更多时间塞进新测试，而不是编写新生产代码。修改生产代码后，旧测试就会开始失败，而测试代码中乱七八糟的东西将阻碍代码再次通过，余数测试变得就像是不断翻番的债务。<br><strong>测试代码和生产代码一样重要，他需要被思考，被设计和被照料，它该像生产代码一般保持整洁</strong></p>
<h2 id="整洁测试"><a href="#整洁测试" class="headerlink" title="整洁测试"></a>整洁测试</h2><p>整洁的测试的要素：可读性、可读性、还是可读性</p>
<blockquote>
<p>测试应该遵循的模式：构造-操作-检验<br>第一个环节构造测试数据，第二个环节操作测试数据，第三个部分检验操作是否得到期望的结果</p>
</blockquote>
<h2 id="每个测试一个断言"><a href="#每个测试一个断言" class="headerlink" title="每个测试一个断言"></a>每个测试一个断言</h2><p>每个测试函数应该有且只有一个断言，虽然苛刻，但方便理解（但不好做到）</p>
<p>更好一些的规律或许是每个测试函数只测试一个概念，不要超长的测试函数，测完这个又测那个。</p>
<p>最佳规则应该是尽可能减少每个概念的断言数量，每个测试函数只测试一个概念。</p>
<h2 id="F-I-R-S-T"><a href="#F-I-R-S-T" class="headerlink" title="F.I.R.S.T"></a>F.I.R.S.T</h2><p>整洁的测试应遵循以下5条规则：</p>
<ul>
<li>快速：测试应该足够快</li>
<li>独立：测试应该相互独立，某个测试不应为下一个测试设定条件</li>
<li>可重复：测试应当可在任何环境中重复通过</li>
<li>自足验证：测试应该有布尔输出，不论通过或失败，不应该查看日志文件，或手工对比不同的文件来确认测试是否通过</li>
<li>及时：测试应该及时编写，单元测试应该恰好在使其通过的生产代码之前编写。</li>
</ul>
<h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h2 id="类的组织："><a href="#类的组织：" class="headerlink" title="类的组织："></a>类的组织：</h2><p>类应该从一组变量列表开始。先是公共静态常量，然后是私有静态变量，私有实体变量，最后是公共变量。<br>公共函数跟在变量列表之后。我们喜欢把某个公共函数调用的私有工具函数紧随在该公共函数后面。</p>
<h2 id="类应该短小"><a href="#类应该短小" class="headerlink" title="类应该短小"></a>类应该短小</h2><h3 id="单一权责原则（SRP）"><a href="#单一权责原则（SRP）" class="headerlink" title="单一权责原则（SRP）"></a>单一权责原则（SRP）</h3><p>类或模块应有且只有一条加以修改的理由，就是它只应有一个权责。<br><strong>系统应该由许多短小的类而不是少量巨大的类组成。每个小类封装一个权责，只有一个修改的原因，并与少数其他类一起协同达成期望的系统行为。</strong></p>
<h3 id="内聚"><a href="#内聚" class="headerlink" title="内聚"></a>内聚</h3><p>类应该只有少量实体变量。类中的每个方法都应该操作一个或多个这种变量。方法操作的变量越多，就越粘聚到类上。说明内聚性越高。<br>保持函数和参数列表短小，有时会导致一组子集方法所用的实体变量数量增加。出现这种情况，往往意味着至少有一个类要从大类中挣扎出来。你应当尝试将这些变量和方法拆分到两个或多个类中，让新的类更内聚，</p>
<h3 id="保持内聚性就会得到许多短小的类"><a href="#保持内聚性就会得到许多短小的类" class="headerlink" title="保持内聚性就会得到许多短小的类"></a>保持内聚性就会得到许多短小的类</h3><p>如果类堆积了很多只为少量函数而共享的实体变量，就应该拆分该类，让小的类更内聚。所以，将大函数拆分为许多小函数，往往也是将类拆分为多个小类的时机。</p>
<h2 id="为了修改而组织"><a href="#为了修改而组织" class="headerlink" title="为了修改而组织"></a>为了修改而组织</h2><h3 id="开放封闭原则-OCP"><a href="#开放封闭原则-OCP" class="headerlink" title="开放封闭原则(OCP)"></a>开放封闭原则(OCP)</h3><p>类应该对扩展开放，对修改封闭。一般是通过子类化手动端，重新架构的新类对新功能是开放的，同时可以不触及其他类。</p>
<h3 id="依赖倒置原则（DIP）"><a href="#依赖倒置原则（DIP）" class="headerlink" title="依赖倒置原则（DIP）"></a>依赖倒置原则（DIP）</h3><p>类应该依赖于抽象而不是依赖于具体细节。</p>
<h1 id="系统"><a href="#系统" class="headerlink" title="系统"></a>系统</h1><h2 id="将系统的构造与使用分开"><a href="#将系统的构造与使用分开" class="headerlink" title="将系统的构造与使用分开"></a>将系统的构造与使用分开</h2><p>软件系统应该将启始过程和启始过程之后的运行时逻辑分离开，在启始过程中构建应用对象，也会存在相互缠结的依赖关系。</p>
<h3 id="分解main"><a href="#分解main" class="headerlink" title="分解main"></a>分解main</h3><p>方法之一是将全部构造过程搬迁到main或被称之为main的模块中</p>
<h3 id="工厂"><a href="#工厂" class="headerlink" title="工厂"></a>工厂</h3><p>使用抽象工厂来创建具体的项目</p>
<h3 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h3><p>在依赖管理的情景中，对象不应负责实体化对自身的依赖。反之，它应当将这份权责移交给其他“有权力”的机制，从而实现控制反转。因为初始设置是一种全局问题，这种授权机制通常要么是main例程，要么是有特定目的的容器。</p>
<h2 id="扩容"><a href="#扩容" class="headerlink" title="扩容"></a>扩容</h2><p>软件系统与物理系统可以类比，它们的架构都可以递增式地增长，只要我们持续将关注面恰当地切分。在aop中，被称为方面（aspect）的模块构造指明了系统哪些点的行为会以某种一致的方式被修改，从而支持某种特定的场景。行为的修改由AOP框架以无损方式在目标代码中进行。</p>
<p><em>下列是Java中三种方面或类似方面的机制</em></p>
<h2 id="Java代理"><a href="#Java代理" class="headerlink" title="Java代理"></a>Java代理</h2><p>jdk提供的动态代理仅能与接口协同工作。对于代理类，得使用字节码操作库，比如cglib，asm或javaassist<br>代码量和复杂度是代理的两大弱点，创建整洁代码变得很难。另外，代理也没有提供在系统范围内指定执行点的机制。而这正是真正的AOP解决方案所必须的。</p>
<h2 id="纯JavaAOP框架"><a href="#纯JavaAOP框架" class="headerlink" title="纯JavaAOP框架"></a>纯JavaAOP框架</h2><p>如spring</p>
<h2 id="aspectJ的方面"><a href="#aspectJ的方面" class="headerlink" title="aspectJ的方面"></a>aspectJ的方面</h2><p>通过方面来实现关注面切分的功能最全工具是aspectj语言，在80%到90%用到方面特性的情况下，springaop和jboss aop提供的手段已经足够，但aspectj是更强有力的工具，其弱势在于需要采用新工具，学习新语言构造和使用方式。</p>
<h2 id="优化决策"><a href="#优化决策" class="headerlink" title="优化决策"></a>优化决策</h2><p>模块化和关注面切分成就了分散化管理和决策，最好是授权给最有资格的人。</p>
<h1 id="迭进"><a href="#迭进" class="headerlink" title="迭进"></a>迭进</h1><p>kent Beck简单设计四条规则</p>
<ul>
<li>运行所有测试</li>
<li>不可重复</li>
<li>表达了程序员的意图</li>
<li>尽可能减少类和方法的数量<br>以上规则按重要程度排列</li>
</ul>
<h1 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h1><p><strong>对象是对过程的抽象，线程是对调度的抽象</strong></p>
<h2 id="为什么要并发"><a href="#为什么要并发" class="headerlink" title="为什么要并发"></a>为什么要并发</h2><p>并发是一种解耦策略，他帮助我们把做什么（目的）和何时（时机）分解开。单线程应用中，目的与时机紧密耦合，很多时候只要查看堆栈追踪即可断定应用程序的状态。</p>
<p>解耦目的和时机能明显地改进应用程序的吞吐量和结构</p>
<ul>
<li>并发并不总能改进性能</li>
<li>并发算法的设计有可能与单线程系统的设计极不相同</li>
<li>采用web或EJB容器时，最后了解并发问题，直到容器在做什么</li>
</ul>
<p>关于编写并发软件的中肯说法：</p>
<ul>
<li>并发会在性能和编写额外代码上增加一些开销</li>
<li>正确的并发是复杂的，即使对于简单的问题也是如此</li>
<li>并发缺陷并非总能重现，所以常被看作偶发事件而忽略，未被当做真的缺陷看待；</li>
<li>并发长处需要对设计策略的根本性修改。</li>
</ul>
<h2 id="并发防御原则："><a href="#并发防御原则：" class="headerlink" title="并发防御原则："></a>并发防御原则：</h2><h3 id="单一权责原则："><a href="#单一权责原则：" class="headerlink" title="单一权责原则："></a>单一权责原则：</h3><p>应该分离并发相关代码和其他代码</p>
<h3 id="限制数据作用域"><a href="#限制数据作用域" class="headerlink" title="限制数据作用域"></a>限制数据作用域</h3><p>谨记数据封装，严格限制对可能被共享的数据的访问</p>
<h3 id="使用数据副本"><a href="#使用数据副本" class="headerlink" title="使用数据副本"></a>使用数据副本</h3><p>使用副本，从一开始就避免共享数据</p>
<h3 id="线程应尽可能独立"><a href="#线程应尽可能独立" class="headerlink" title="线程应尽可能独立"></a>线程应尽可能独立</h3><p>尽可能缩小同步区域</p>
<p>尽早考虑关闭问题，尽早令其工作正常。</p>
<p>一些建议：</p>
<ul>
<li>将伪失败看作可能的线程问题（伪失败：不可能失败的失败，几率极小会出现）<br>最好假设偶发事件根本不存在，否则代码可能搭建于不完善的基础上</li>
<li>先使非线程代码可工作<br>不要同时追踪非线程缺陷和线程缺陷，确保代码在多线程之外可工作</li>
<li>编写可插拔的线程代码<br>这样就能在不同的配置环境下运行</li>
<li>编写可调整的线程代码</li>
<li>运行多于处理器数量的线程<br>系统在切换任务时会发生一些事，为了促使任务交换的发生，运行多于处理器或处理器核心数量的线程。任务交换越频繁，越有可能找到错过临界区或导致死锁的二代吗</li>
<li>在不同平台上运行<br>尽早并经常在所有目标平台上运行线程代码</li>
<li>装置试错代码<br>有时候只有少数路径会真的导致失败，但经过几率非常低。可以考虑装置代码，增加对Object.wait()、Thread.sleep()、Thread.yield()、Object。priority()等方法的调用，改变代码执行顺序。这些方法都会影响执行顺序，从而增加了侦测到缺陷的可能性<br>可以使用一些面向切面的框架来构建调用上述方面的切面，来做随机测试</li>
</ul>
<h1 id="逐步改进"><a href="#逐步改进" class="headerlink" title="逐步改进"></a>逐步改进</h1><p>对一个命令行参数解析程序的案例研究</p>
<p>本案例非常详细清晰地描述了如何重构一个命令行参数解析程序<br>作用：对例如“-l -p 50 -d abc”的字符串做解析<br>当调用getInt(‘p’)时能得到50</p>
<p>具体过程见书</p>
<blockquote>
<p>整个过程体现了抽象、封装的思想，尽可能用基类去实现相似的功能来避免重复。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/05/02/%E6%89%BE%E5%AE%9E%E4%B9%A0%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/02/%E6%89%BE%E5%AE%9E%E4%B9%A0%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">找实习总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-05-02 09:44:19 / 修改时间：13:15:33" itemprop="dateCreated datePublished" datetime="2020-05-02T09:44:19+08:00">2020-05-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>时至今日，经历了3个月的找实习工作终于落下了帷幕，幸运的是，最终拿到了自己最心仪的蚂蚁金服的offer。往年的话在现在这个时间点本来应该在实验室搬砖的，而今年受到疫情的影响，到现在还在家中。但在家也有在家的好处，在家如果有压力的话其实也能够全神贯注地去学习去准备找实习。</p>
<p>上次过年本来打算只在家呆两周就回学校复习的，但因为疫情导致回学校遥遥无期。时间不等人，各个公司招聘的节奏又跟往常一样，所以早早在家就开始复习了。一开始给自己定的目标，最理想的是蚂蚁金服，因为自己比较喜欢金融这一块的东西。蚂蚁算是国内金融+互联网这一块的巨头（貌似是估值最高的独角兽？第二是字节）。支付宝和微信几乎成了每个人必备的工具。发展的前景不可谓不好。在蚂蚁金服之后的理想的去向是字节跳动和腾讯。字节跳动作为估值仅次于蚂蚁金服的大厂，在近几年凭借着头条，抖音的火爆而迅速崛起。字节的产品可以说是占据了当代中青年内容输入的大头。我的同学，朋友，包括爸妈，爷爷奶奶都是头条或抖音的拥趸，每天把看头条当做读报纸一样的习惯去看。我自己也在疫情期间几乎每天都上头条了解国内外疫情的最新进展。在内容质量，排版方面来说，头条做的确实要比其他一些新闻应用做得好。例如相比于腾讯新闻，其内容的质量，排版都要更优（现在的腾讯新闻已经变成了百家号的聚集地，芝麻大的事情能发1000字的文章，狗屁不通浪费时间，如果腾讯新闻再不把把质量关感觉真的不行）。而相比于澎湃这种更专业的新闻应用。它又显得更亲民，少了一些复杂的专业术语，多了一些家长里短的闲聊。而抖音更是被誉为当代年轻人的精神鸦片，其影响力可见一斑。腾讯就不用多说了，游戏大厂，不说口碑，但用户量应该是国内毫无争议的第一。我给自己定的目标就是这三个，蚂蚁金服第一，腾讯or字节第二。但蚂蚁因为是阿里系，技术栈是java的，我自己本身的用java的，虽然说一个优秀的程序员无所谓语言，但是更换语言，尤其是对一门语言了解的越深入，更换的成本就越大，对于一门新语言的机制，语言特性都要重新学起。所以在语言方面，阿里对于我无疑是更合适的选择；而腾讯用的是C++，字节多用python和go，都需要更换成本。</p>
<p>这次算是第二次找工作了，自己也是有了之前一些找工作的经验，而且自己本身就耽误了1，2年，所以也没有时间再去试错，就要一步到位去定居的地方了。距离家乡近的，互联网方向发展前景好的地方，看下来应该就只有西安和成都两个地方。相比西安，成都的发展前景必然更好，天府之国，气候也湿润，其实是更适合人居住的。所以这次找工作就只把目标定在了成都，专心找成都的工作。</p>
<h2 id="字节跳动"><a href="#字节跳动" class="headerlink" title="字节跳动"></a>字节跳动</h2><p>从2月中旬开始着手复习，先是把深入理解JVM又全面地看了一遍，把自己之前做的笔记也认真复盘，自己的项目也全面复盘了一遍。在二月底的时候就开始着手投简历了，其实这算投的比较早了，不过这种事情赶早不赶晚。早点投了简历也能逼迫自己早点进入学习的状态，先是投了一波京东，字节，和网易雷火。京东和字节是成都的，网易是杭州的，是为了练手（但网易效率真的太低了。。直到2个月后我都落定了才来了笔试邀请，有事就给鸽了🥶，京东到现在都没下文，要是能把北邮的简历都给筛了只能说明真的强无敌。。）。所以最后只来了字节的笔试邀请。成都的字节跳动是效率工程，之前是专门为内部hr做提高效率的工具，属于对内的一个团队。不过后来听说也要对外去卖产品了。非常有名的飞书(Lark)就是其产品，可以说是做的相当不错，国外也有很多团队在用。</p>
<p>这里要夸一波字节，效率真的高，全程都有hr跟进进度，不论结果怎样都会通知一声，而且流程很正式。就全程都给人感觉很舒服。字节的笔试不难，算是leetcode的medium难度。题目如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>峰值定义：比前后元素都大；数组可能存在多个峰值，返回任意一个就行：如<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">4</span> <span class="number">3</span>,可以返回<span class="number">4</span>或者<span class="number">3</span></span><br><span class="line">&gt;直接遍历比较前后即可，唯一需要注意的就是边界上的额外处理题目不难。这道题a过了</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>输出指定的二叉树的镜像：以二叉树对应的完全二叉树为参照，空白节点处使用#字符填充，使用层次遍历来表示二叉树，节点间使用空格分隔，如<span class="number">4</span> <span class="number">2</span> <span class="number">7</span> # <span class="number">3</span> <span class="number">6</span> <span class="number">9</span>。要求输出翻转的二叉树的层序。</span><br><span class="line">&gt;本来想直接按照层序遍历来按照节点的编号顺序来做的，其实画个图就能看出来，满二叉树只需要每层倒序就是其镜像树。但这么做只能a过<span class="number">80</span>%。之后因为还有时间，就用重构二叉树，然后再求镜像的方法，依然是只能过<span class="number">80</span>%。其实这道题最后还是没明白为什么没a掉，如果是时间复杂度的问题，重构可能比较慢，但每层倒序已经是O(n)的复杂度了，还是过不了，就有点不太明白了</span><br></pre></td></tr></table></figure>
<p>所以最终笔试了90分（50+40）</p>
<p>笔试完的第二天，hr打电话来告诉我笔试通过，约了当天下午的一面。这是我找实习经历中的第一次面试。<br>题目如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> jvm内存模型，垃圾回收方法，对象可达性分析</span><br><span class="line"><span class="number">2.</span> cms是怎么工作的，并发标记和重新标记之间发生了什么</span><br><span class="line"><span class="number">3.</span> mysql索引，聚簇和非聚簇索引，索引怎么优化</span><br><span class="line"><span class="number">4.</span> hashmap底层原理，hashtable，concurrenthashmap的区别和原理，怎么实现线程安全</span><br><span class="line"><span class="number">5.</span> aqs原理，如何把一个节点加到队列中</span><br><span class="line"><span class="number">6.</span> 算法题：类似围棋：<span class="number">01</span>的棋盘，把所有被<span class="number">0</span>包含的<span class="number">1</span>变成<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>其实真是要特别感谢这位面试官，给我找到了好多知识的欠缺之处。最明显的例子就是问了我cms的并发标记和重新标记之间的过程，其实这个部分在书上和其他面经或资料上很少提到，但却是CMS中很重要的部分，就是并发预清理，带着对这个部分的疑问，又去深入了解的三色标记法。可以说是对整个cms有了更深刻的认识。而hashmap更是老生常谈的问题，但要把它的整个工作过程完整细致地描述出来也不是一件轻松的事，这就是熟能生巧了。而对于算法题其实也是leetcode上的一道原题（bfs+标记），只不过最后因为时间不够就没做完了，但还是详细地描述了解法。整体答得还行。唯一的缺憾就是题没有做完。</p>
<p>面完第二天hr打电话来说一面通过，约了一下二面的时间（效率是真的高）<br>二面题目如下：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">实现<span class="number">62</span>进制加法：<span class="number">0</span><span class="number">-9</span>，<span class="keyword">a</span>-z A-Z</span><br><span class="line"><span class="built_in">get</span>和<span class="built_in">post</span>的区别，<span class="built_in">post</span>和<span class="built_in">put</span>的区别</span><br><span class="line"><span class="keyword">http</span>状态码</span><br><span class="line">mysql是binlog是什么</span><br><span class="line">微博的长连接变短怎么做的</span><br></pre></td></tr></table></figure>
<p>上来先是做题，不得不说字节对于算法能力看得真的很重。先笔试，然后每一轮面都有做题。算法题不难，就是多进制的加法，处理好映射和进位的问题就能迎刃而解，再者这种题做的太多了，几乎是不假思索地动手写。很快就写完了。剩余问的基础题也不难。只要好好准备一般都是在覆盖范围之内的。最后问了一道开放题。微博中如何长连接变短，变成t.cn/dasgjkd 这种形式。我回答的是在微博服务端利用hash对长连接生成相应的短连接，然后将其映射关系保存在数据库中，在访问的时候请求先到微博服务端，然后取出真正的连接后通过redirect或者forward来转到真实的地址。而对于网络的相关问题，重点在于幂等性上，知识并不难，但需要有所了解才能回答得上，所以还是应该广泛地涉猎知识</p>
<p>二面后隔了几天，hr打电话说二面通过了，简单聊了一下（基本是为什么想来成都，以及对于互联网快节奏的看法等）。之后就发offer了，效率是真的很高。</p>
<p><strong>总结：字节作为互联网新贵，其前景相当不错。整个面笔试的流程突出的特点：<br>第一就是十分注重代码能力，除了1轮笔试，2轮面试都要做题。所以平常刷题还是很有必要的。<br>第二就是注重基础知识，对于网络，基础容器原理（hashmap，chm），并发原理（aqs工作原理、cas）的侧重点会更加多。<br>第三就是对于校招来说不太看项目，这是我面试过程中少有的两轮完全没有问任何项目，全程都在做题和问基础知识。因此突出一个基础知识以及刷题的重要性。<br>字节整个面试都使用飞书，体验感觉也很不错，感觉钉钉和飞书视频会议这部分做的很不错的</strong></p>
<p>必须要感谢字节，首先发了offer让我心里有了底，而且指示了面试的大方向和重点。</p>
<p>之后经同学介绍，美团的业务部门也面了一下，整体的感觉也还行，面试题目如下：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">序列化和反序列化一棵二叉树</span><br><span class="line"><span class="keyword">jmm</span></span><br><span class="line"><span class="keyword">mysql索引</span></span><br><span class="line"><span class="keyword">泛型相关</span></span><br><span class="line"><span class="keyword">项目相关</span></span><br></pre></td></tr></table></figure>
<p>整体回答的还行，但最后问到入职的时间，人家需要能马上入职的，感觉不合适，就没有再继续了。</p>
<h2 id="蚂蚁金服（阿里巴巴）"><a href="#蚂蚁金服（阿里巴巴）" class="headerlink" title="蚂蚁金服（阿里巴巴）"></a>蚂蚁金服（阿里巴巴）</h2><p>接下来是旷日持久的阿里的面试，从3月5日一面，到4月30日意向书发放，耗时2个月，经历了 笔试 + 基础面+主管面+交叉面+总监面+hr面+补笔试。基本算是7次试了。流程虽然很长，但非常有幸认识了非常好的主管，他的提问过程是非常比较体现语言魅力的，会挖掘你的潜力，去引导回答问题，而且不仅仅是问技术基础，还会提问一些开放性的问题来综合体现各方面的素质。还有一点是我觉得他的语气非常亲切，让人在交流过程中也不会紧张。而且他还给了我一些非常宝贵的建议，不仅仅是技术方面的提高建议，还有思维方面，在平时的工作生活中要养成多观察的建议。而且后续也一直是他帮忙跟进我的流程状态直到拿到offer，真的是非常非常感谢他。</p>
<p>今年的笔试是所有技术岗都必须参加的，但不得不说，题目真的太难了，只有第二题a了10%<br>题目如下：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>输入<span class="number">10</span>个<span class="built_in">int</span>表示<span class="number">10</span>种牌个数（<span class="number">1</span>到<span class="number">10</span>的牌），可以打单牌（<span class="number">1</span>），对子(<span class="number">11</span>)，顺子（<span class="number">12345</span>）, 连对（<span class="number">112233</span>）,求最少几次可以打完所有牌</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>给出n个不下降字符串（即<span class="built_in">string</span>[i]&gt;=<span class="built_in">string</span>[i<span class="number">-1</span>），求用给出的原始字符串，拼出不下降字符串的字符串最大个数？</span><br></pre></td></tr></table></figure>
<p>第一题可能是需要贪心的就是类似于剪绳子，把绳子剪成2和3的小段，核心思想是去减4的段和5的段，所以我觉得应该是去尽可能凑其中的某两种或者某一种组合，如果直接使用递归形式的深度优先遍历，在复杂度低时可以解决，但是当数很大时就会耗很久，我也下来后写了代码进行验证，在数组全满的情况下需要将近10秒，所以其实还是不能全a的。由于做的时候没形成合适的代码流，（其实可以回溯拼一拼的）</p>
<p>第二题因为本来是以为和数组的最长递增子序列的做法类似，用动态规划的方法，只不过每次叠加的长度是其中字符串的长度，但这样做过不了，所以现在还没想到更好的办法，网上搜索也没有搜到更好的做法。</p>
<p>阿里的笔试风格和平常刷的leetcode的风格相差比较大，不太好做针对性的练习，所以还得平常多积累，多找找类似风格的题做</p>
<p>整个面试问题如下：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">一面：</span><br><span class="line">网约车怎么设计，</span><br><span class="line">讲讲HashMap</span><br><span class="line">Java继承怎么体现在数据库表上：</span><br><span class="line">mybatis怎么解决N+<span class="number">1</span>的问题</span><br><span class="line">hibernate和mybatis的区别</span><br><span class="line">讲一讲spring IOC AOP</span><br><span class="line"><span class="built_in">String</span>、<span class="built_in">StringBuffer</span>、StringBuilder区别</span><br><span class="line">ruby <span class="keyword">on</span> rails和springboot相比有什么优缺点</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二面：</span><br><span class="line">并发，锁机制，悲观乐观</span><br><span class="line">threadlocal</span><br><span class="line">简单介绍Springboot</span><br><span class="line">Spring事务传播行为</span><br><span class="line">mysql事务隔离级别</span><br><span class="line">Springbean的生命周期，包括静态代码块，构造函数，初始化方法的执行顺序</span><br><span class="line">幂等性，post，<span class="keyword">get</span></span><br><span class="line">Linux常用命令，怎么看java进程，怎么查看java的cpu使用率</span><br><span class="line">印象深刻的事</span><br><span class="line">技术中印象深刻的事</span><br><span class="line"></span><br><span class="line">三面：</span><br><span class="line">介绍一下项目</span><br><span class="line">项目中有什么难点，具体的解决方法，解决后有什么改进（刨到灵魂深处）</span><br><span class="line">平常是怎么学习技术的，除了技术书还看什么书</span><br><span class="line">有什么其他爱好，比如体育爱好之类的</span><br><span class="line">为什么笔试题没做出来，现在如果让你重新做，你有什么好的做法吗？要求细化到具体方法，不能只说贪心、动态规划之类的泛化方法（刨到灵魂深处）</span><br><span class="line"></span><br><span class="line">技术终面：</span><br><span class="line">介绍一下毕设</span><br><span class="line">毕设中有什么亮点，通过项目学到了什么</span><br><span class="line">介绍一下项目，项目中有什么难点，怎么解决的</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hr面：</span><br><span class="line">自己的亮点</span><br><span class="line">为什么想去成都</span><br><span class="line">金融在生活中的使用场景</span><br></pre></td></tr></table></figure>

<p>因为之前笔试成绩比较低，所以又补了一轮笔试，这轮的题目比较符合平常做的题目类型：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">题目一：判断数字是否是回文对称数字</span><br><span class="line">例如： <span class="number">12321</span>，<span class="number">13577531</span> 左右对称的数字为回文数字</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">题目二：LRU缓存实现</span><br><span class="line">最近最少使用（LRU）缓存方案，是在缓存已满并且需要将新近被使用的项目添加到缓存时首先丢弃最近最少使用的项目。（不能使用LinkedHashMap）</span><br></pre></td></tr></table></figure>

<p>第一道题直接用StringBuilder的reverse。第二个可以用HashMap+LinkedList，map来映射k-v关系，list来维护要淘汰的顺序。</p>
<p>由于四月是阿里整个财年的年底，所以hr很忙，一直到4月30号晚上才发了意向书，整个阿里实习求职历经两个月终于能画下个比较完美的句号了</p>
<p><strong>整个阿里面试流程的重点在以下几个方面：</strong></p>
<ol>
<li>java基础知识，包括并发，容器（hashmap是重中之重）。</li>
<li>数据库基础知识，这一块比较广，涉猎的多总不是坏事</li>
<li>框架，主要是spring的原理，这一部分还是应该去看一下源码，用小demo打断点跑一下流程的，因为spring继承体系纷繁复杂，各种抽象类之间跳来跳去，干看代码很难走通逻辑，所以打断点看流程是最好的学习方式。</li>
<li>在项目中的难点和总结，必须要对项目有比较深刻的理解和想法，所以平时在做项目的时候要多总结多输出知识</li>
</ol>
<p>在5月之前拿到了自己理想的offer，也算是对自己的辛苦刷题和学习有所交代，期间还有一些其他公司的小插曲不足道，拿到了两个自己最想要的offer，后面就要好好努力了！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/29/%E7%AE%97%E6%B3%95/%E6%9C%AA%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%B4%AF%E5%8A%A0%E5%92%8C%E5%B0%8F%E4%BA%8E%E6%88%96%E7%AD%89%E4%BA%8E%E7%BB%99%E5%AE%9A%E5%80%BC%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/29/%E7%AE%97%E6%B3%95/%E6%9C%AA%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%B4%AF%E5%8A%A0%E5%92%8C%E5%B0%8F%E4%BA%8E%E6%88%96%E7%AD%89%E4%BA%8E%E7%BB%99%E5%AE%9A%E5%80%BC%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6/" class="post-title-link" itemprop="url">未排序数组中累加和小于或等于给定值的最长子数组长度</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-29 10:50:39 / 修改时间：10:51:06" itemprop="dateCreated datePublished" datetime="2020-04-29T10:50:39+08:00">2020-04-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="未排序数组中累加和小于或等于给定值的最长子数组长度"><a href="#未排序数组中累加和小于或等于给定值的最长子数组长度" class="headerlink" title="未排序数组中累加和小于或等于给定值的最长子数组长度"></a>未排序数组中累加和小于或等于给定值的最长子数组长度</h2><p>给定一个无序数组arr，其中元素可正可负可0，给定一个整数k，求arr所有子数组中累加和小于或等于k的最长子数组长度。<br>例如：arr=[3,-2,-4,0,6], k=-2，相加和小于或等于-2的最长子数组为3,-2,-4,0 所以结果返回4<br>依次求以数组的每个位置结尾的，累加和小于或等于k的最长子数组长度，其中最长的那个子数组长度就是我们要的结果。</p>
<p>假如处理到位置30，从位置0到位置30的累加和是100（sum[0..30]=100）,现在想求以位置30结尾的、累加和小于或等于10的最长子数组长度。再假设从位置0开始累加到位置10的时候，累加和第一次大于或等于90(sum[0..10]&gt;=90)，那么可以知道以位置30结尾的相加和小于或等于10的最长子数组就是arr[11..30]。也就是说，如果从0位置到j位置的累加和为sum[0..j]，此时想求以j位置结尾的相加和小于或等于k的最长子数组长度。那么只要知道大于或等于sum[0..j]-k这个值的累加和最早出现在j之前的什么位置就可以，假设那个位置是i位置，那么arr[i+1..j]就是j位置结尾的相加和小于或等于k的最长数组。</p>
<p>由于不是具体值，而是范围值，所以不能直接用hashmap，为了方便地找到大于或等于某一个值的累加和最早出现的位置，可以按照如下方法生成辅助数组helpArr。<br>    1.首先生成arr每个位置从左到右的累加和数组sumArr。以[1,2,-1,5,-2]为例，生成的sumArr=[0,1,3,2,7,5]。注意，sumArr中第一个数为0，表示当没有任何一个数时的累加和为0.<br>    2.生成sumArr的左侧最大值数组helpArr，sumArr={0,1,3,2,7,5} -&gt; {0,1,3,3,7,7}。因为我们只关心大于或等于某个值的累加和最早出现的位置，而累加和3出现在2之前，并且大于或等于3必然大于2，所以当前要保留一个更大的、出现更早的累加和。<br>    3.helpArr是sumArr每个位置上的左侧最大值数组，那么它当然是有序的，在这样一个有序的数组中，就可以二分查找大于或等于某一个值的累加和最早出现的位置。例如，在[0,1,3,3,7,7]中查找大于或等于4这个值的位置，就是第一个7的位置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxLength</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] h = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    h[<span class="number">0</span>] = sum;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=arr.length;i++)&#123;</span><br><span class="line">        sum += arr[i];</span><br><span class="line">        h[i+<span class="number">1</span>] = Math.max(sum, h[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pre = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=arr.length;i++)&#123;</span><br><span class="line">        sum+=arr[i];</span><br><span class="line">        pre = getLessIndex(h, sum-k);</span><br><span class="line">        len = pre == -<span class="number">1</span>?<span class="number">0</span>:i-pre+<span class="number">1</span>;</span><br><span class="line">        res = Math.max(res, len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLessIndex</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> high = arr.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(low&lt;=high)&#123;</span><br><span class="line">        mid = (low+high)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(arr[mid]&gt;=num)&#123;</span><br><span class="line">            res = mid;</span><br><span class="line">            high = mid -<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            low = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/27/%E7%AE%97%E6%B3%95/%E6%9C%AA%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%B4%AF%E5%8A%A0%E5%92%8C%E4%B8%BA%E7%BB%99%E5%AE%9A%E5%80%BC%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/27/%E7%AE%97%E6%B3%95/%E6%9C%AA%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%B4%AF%E5%8A%A0%E5%92%8C%E4%B8%BA%E7%BB%99%E5%AE%9A%E5%80%BC%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">未排序数组中累加和为给定值的最长子数组系列问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-27 16:44:51 / 修改时间：16:53:06" itemprop="dateCreated datePublished" datetime="2020-04-27T16:44:51+08:00">2020-04-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="未排序数组中累加和为给定值的最长子数组系列问题"><a href="#未排序数组中累加和为给定值的最长子数组系列问题" class="headerlink" title="未排序数组中累加和为给定值的最长子数组系列问题"></a>未排序数组中累加和为给定值的最长子数组系列问题</h2><p>给定一个无序数组arr，其中元素可正可负可0，给定一个整数k，求arr所有子数组累加和为k的最长子数组长度</p>
<p>s(i)代表子数组arr[0..i]所有元素的累加和，那么子数组arr[j..i]（0&lt;=j&lt;=i&lt; arr.length）的累加和为s(i)-s(j-1),解法：<br>1.设置变量sum=0,表示从0位置开始一直加到i位置所有元素的和，设置变量len=0，表示累加和为k的最长子数组长度，设置哈希表map，key表示从arr最左边开始累加过程中出现过的sum值，对应的value值则表示sum值最早出现的位置。<br>2.从左到右开始遍历，遍历的当前元素为arr[i].<br>    1) 令sum=sum+arr[i],即之前所有元素的累加和s(i)，在map中查看是否存在sum-k.<br>        》如果sum-k存在，从map中取出sum-k对应的value值，记为j，j代表从左到右不断累积啊的过程中第一次出现sum-k这个累加和的位置。根据之前的结论，arr[j+1..i]的累加和为s(i)-s(j)，此时s(i)=sum，又有s(j)=sum-k,所以arr[j+1..i]的累加和为k，同时因为map中只记录每一个累加和最早出现的位置，所以此时的arr[j+1..i]是必须以arr[i]结尾的所有子数组中，最长的累加和为k的子数组，如果该子数组的长度大于len，就更新len。<br>        》如果sum-k不存在，说明在必须以arr[i]结尾的情况下没有累加和为k的子数组。<br>    2）检查当前的sum(即s(i))是否在map中，如果不存在，说明此时的sum值是第一次出现<br>3.继续遍历下一个元素，直到所有元素都遍历完。</p>
<p>大体上过程如下，但还有很重要的问题，根据arr[j+1..i]的累加和为s(i)-s(j).如果从0位置开始累加，会导致j+1&gt;=1，即所有从0位置开始的子数组都没考虑过，所有应该从-1这个位置开始累加，也就是遍历前先把(0,-1)这个记录放进map，这个记录的意义是如果任何一个数也不加时，累加和为0，这样，从0位置开始的子数组就被我们考虑到了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxLen</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>,-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        sum += arr[i];</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(sum-k))&#123;</span><br><span class="line">            len = Math.max(i-map.get(sum-k), len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(sum))&#123;</span><br><span class="line">            map.put(sum, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="给定一个无序数组arr，其中元素可正可负可0，求arr中所有的子数组中正数与负数个数相等的最长子数组长度"><a href="#给定一个无序数组arr，其中元素可正可负可0，求arr中所有的子数组中正数与负数个数相等的最长子数组长度" class="headerlink" title="给定一个无序数组arr，其中元素可正可负可0，求arr中所有的子数组中正数与负数个数相等的最长子数组长度"></a>给定一个无序数组arr，其中元素可正可负可0，求arr中所有的子数组中正数与负数个数相等的最长子数组长度</h2><p>》方法一：<br>    如果遍历到arr[i],0到i中的正数为x个，负数为y个，若0到j中的正数为x1个，负数为y1个。假设arr[j+1..i]之间的正数与负数相等。则有x-x1=y-y1，故有x-y=x1-y1。因此如果遍历到arr[i]处，找到最前面也满足正数-负数=x-y的位置即可。<br>    因此，用一个HashMap，key为x-y，value为第一次出现该key的位置，遍历到arr[i]，如果map中有x-y，则len=max（i-map.get(x-y), len）如果没有key，则说明是第一次出现key，则把key和i放入map中</p>
<p>》方法二：<br>    用第一道题的方法，先把数组arr中的正数全变成1，负数全变成-1，0不变，然后求累加和为0的最长子数组长度即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxLen2</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;  <span class="comment">//正数个数</span></span><br><span class="line">    <span class="keyword">int</span> nag = <span class="number">0</span>;  <span class="comment">//负数个数</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>, -<span class="number">1</span>); <span class="comment">//没有数字时，看作正负个数相等，位置为-1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&gt;<span class="number">0</span>) pos++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(arr[i]&lt;<span class="number">0</span>) nag++;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(pos-nag))&#123;</span><br><span class="line">            len = Math.max(i-map.get(pos-nag), len);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            map.put(pos-nag, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="给定一个无序数组arr，其中元素只是1或0，求arr所有子数组中0和1个数相等的最长子数组长度。"><a href="#给定一个无序数组arr，其中元素只是1或0，求arr所有子数组中0和1个数相等的最长子数组长度。" class="headerlink" title="给定一个无序数组arr，其中元素只是1或0，求arr所有子数组中0和1个数相等的最长子数组长度。"></a>给定一个无序数组arr，其中元素只是1或0，求arr所有子数组中0和1个数相等的最长子数组长度。</h2><p>》方法一：<br>    核心思想和上题一样，只不过把记录正负换成记录1和0<br>》方法二：<br>    用第一道题的方法，先把数组arr中的0全变成-1，1不变，然后求累加和为0的最长子数组长度即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxLen3</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> one = <span class="number">0</span>;  <span class="comment">//正数个数</span></span><br><span class="line">    <span class="keyword">int</span> zero = <span class="number">0</span>;  <span class="comment">//负数个数</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">0</span>, -<span class="number">1</span>); <span class="comment">//没有数字时，看作1和0个数相等，位置为-1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]==<span class="number">1</span>) one++;</span><br><span class="line">        <span class="keyword">else</span> zero++;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(one-zero))&#123;</span><br><span class="line">            len = Math.max(i-map.get(one-zero), len);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            map.put(one-zero, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/23/%E7%AE%97%E6%B3%95/%E4%B8%8D%E9%87%8D%E5%A4%8D%E6%89%93%E5%8D%B0%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9B%B8%E5%8A%A0%E5%92%8C%E4%B8%BA%E7%BB%99%E5%AE%9A%E5%80%BC%E7%9A%84%E6%89%80%E6%9C%89%E4%BA%8C%E5%85%83%E7%BB%84%E5%92%8C%E4%B8%89%E5%85%83%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/23/%E7%AE%97%E6%B3%95/%E4%B8%8D%E9%87%8D%E5%A4%8D%E6%89%93%E5%8D%B0%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9B%B8%E5%8A%A0%E5%92%8C%E4%B8%BA%E7%BB%99%E5%AE%9A%E5%80%BC%E7%9A%84%E6%89%80%E6%9C%89%E4%BA%8C%E5%85%83%E7%BB%84%E5%92%8C%E4%B8%89%E5%85%83%E7%BB%84/" class="post-title-link" itemprop="url">不重复打印排序数组中相加和为给定值的所有二元组和三元组</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-23 16:42:42 / 修改时间：16:47:26" itemprop="dateCreated datePublished" datetime="2020-04-23T16:42:42+08:00">2020-04-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="不重复打印排序数组中相加和为给定值的所有二元组和三元组"><a href="#不重复打印排序数组中相加和为给定值的所有二元组和三元组" class="headerlink" title="不重复打印排序数组中相加和为给定值的所有二元组和三元组"></a>不重复打印排序数组中相加和为给定值的所有二元组和三元组</h2><p>给定排序数组arr和整数k，不重复打印arr中所有相加和为k的不降序二元组。<br>例如，arr=[-8,-4,-3,0,1,2,4,5,8,9],k=10,打印结果为：<br>1,9<br>2,8</p>
<p>1.利用双指针法，设置遍历left=0和right=length-1<br>2.比较arr[left]+arr[right]的值(sum)与k的大小<br>    如果sum等于k，打印arr[left],arr[right], left++,right–.<br>    如果sum大于k，right–<br>    如果sum小于k，left++<br>3.如果left&lt; right,则一直重复步骤2，否则过程结束<br>为了保证不重复打印，只需在打印前增加一个检查：arr[left]是否与它前一个值相等，如果相等就不打印<br>解释：因为整体过程是两头向中间压缩的过程，如果arr[left]+arr[right]=k,又有arr[left]==arr[left-1],那么之前一定打印过这个二元组，则不用再重复打印<br>时间复杂度O(N)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printUniquePair</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = arr.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[left]+arr[right]&lt;k)&#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(arr[left]+arr[right]&gt;k)&#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(left==<span class="number">0</span> || arr[left-<span class="number">1</span>]!=arr[left])&#123;</span><br><span class="line">                System.out.println(arr[left]+<span class="string">","</span>+arr[right]);</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="三元组的问题类似于二元组的求解过程"><a href="#三元组的问题类似于二元组的求解过程" class="headerlink" title="三元组的问题类似于二元组的求解过程"></a>三元组的问题类似于二元组的求解过程</h2><p>例如 arr=[-8,-4,-3,0,1,2,4,5,8,9] k=10<br>当三元组的第一个值为-8时，寻找-8后面的子数组中所有相加为18的不重复二元组<br>当三元组的第一个值为-4时，寻找-4后面的子数组中所有相加为14的不重复二元组<br>当三元组的第一个值为-3时，寻找-3后面的子数组中所有相加为13的不重复二元组<br>依次类推：<br>如果不重复打印？首先保证每次寻找过程开始前，选定的三元组中第一个值不重复，其次就是原问题的打印检查一样，保证不重复打印二元组<br>时间复杂度为O(n^2)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printUniqueTriad</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr==<span class="keyword">null</span> || arr.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length-<span class="number">2</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span> || arr[i]!=arr[i-<span class="number">1</span>])&#123;</span><br><span class="line">            printRest(arr, i, i+<span class="number">1</span>, arr.length-<span class="number">1</span>, k-arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printRest</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> f, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[l]+arr[r]&lt;k)&#123;</span><br><span class="line">            l++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(arr[l]+arr[r]&gt;k)&#123;</span><br><span class="line">            r--;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(l==f+<span class="number">1</span> || arr[l-<span class="number">1</span>]!=arr[l])&#123;</span><br><span class="line">                System.out.println(arr[f]+<span class="string">","</span>+arr[l]+<span class="string">","</span>+arr[r]);</span><br><span class="line">            &#125;</span><br><span class="line">            l++;</span><br><span class="line">            r--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/22/%E7%AE%97%E6%B3%95/%E6%89%BE%E4%BC%97%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/22/%E7%AE%97%E6%B3%95/%E6%89%BE%E4%BC%97%E6%95%B0/" class="post-title-link" itemprop="url">找众数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-22 10:39:53 / 修改时间：10:43:16" itemprop="dateCreated datePublished" datetime="2020-04-22T10:39:53+08:00">2020-04-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="众数1"><a href="#众数1" class="headerlink" title="众数1"></a>众数1</h2><p>给定一个整型数组arr，打印其中出现次数大于一半的数，如果没有这样的数，打印提示信息<br>用计数器cnt来表示当前出现次数最多的数的次数，tmp表示该数，如果有满足条件的数，那么最终tmp一定是该数，因为其他的数都能被抵消</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getMainNumber</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp==arr[i])&#123;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt==<span class="number">1</span>)&#123;</span><br><span class="line">                tmp = arr[i];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                cnt--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//验证</span></span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp==arr[i])</span><br><span class="line">            cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt&gt;arr.length)&#123;</span><br><span class="line">        System.out.println(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        System.out.println(<span class="string">"no main number"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="众数2"><a href="#众数2" class="headerlink" title="众数2"></a>众数2</h2><p>给定一个整型数组arr， 再给定一个整数K，打印所有出现次数大于N/K的数，如果没有这样的数，打印这样的数<br>出现次数大于N/K的数至多只有 K-1个（如果有K个，那么总数一定会多于N个）<br>摩尔投票法：<br>一次在数组中删掉K个不同的数，不停地删除，直到剩下的数的种类不足K，那么，如果某些数在数组中出现次数大于N/K，则这些数最后一定会被生下来，具体过程如下：<br>遍历到arr[i]，看arr[i]是否与已经被选出的某一个候选相同。<br>如果与某一个候选相同，就把属于那个候选的点数统计+1<br>如果与所有候选都不相同，先看当前的候选是否满了，K-1就是满，否则就是不满<br>    如果不满，把arr[i]作为一个新的候选，属于它的点数初始化为1<br>    如果已满，说明此时已经发现了K个不同的数，arr[i]就是第K个，此时把每一个候选各自的点数都-1，表示每个候选需要付出一个自己的点数，如果某些候选的点数在-1后等于0，则需要删除这些候选，候选又变成不满的状态。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findMainNumber2</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="comment">//都初始化为第一个元素</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        res[i] = arr[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] cnt = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">boolean</span> flag1 = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">boolean</span> flag2 = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res[j] == arr[i]) &#123;</span><br><span class="line">                cnt[j]++;</span><br><span class="line">                flag1 = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cnt[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    res[j] = arr[i];</span><br><span class="line">                    cnt[j] = <span class="number">1</span>;</span><br><span class="line">                    flag2 = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag1 &amp;&amp; flag2) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">                cnt[j]--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//验证res中每个数是不是确实满足条件</span></span><br><span class="line">    <span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t = arr.length / k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        cnt[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] == res[i]) &#123;</span><br><span class="line">                cnt[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cnt[i] &gt; t) &#123;</span><br><span class="line">            total++;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">                System.out.print(res[i]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                System.out.print(<span class="string">","</span> + res[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (total == <span class="number">0</span>) &#123;</span><br><span class="line">        System.out.println(<span class="string">"no main number"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/15/%E7%AE%97%E6%B3%95/%E6%89%BE%E5%88%B0%E6%97%A0%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/15/%E7%AE%97%E6%B3%95/%E6%89%BE%E5%88%B0%E6%97%A0%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/" class="post-title-link" itemprop="url">找到无序数组中最小的k个数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-15 15:27:33 / 修改时间：15:32:58" itemprop="dateCreated datePublished" datetime="2020-04-15T15:27:33+08:00">2020-04-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>找到无序数组中最小的k个数：<br>给定一个无序的整型数组arr，找到其中最小的k个数<br>如果数组arr长度为N，排序后自然可以得到最小的k个数，此时时间复杂度与排序的时间复杂度相同，均为O(NlogN)。本题要求读者实现时间复杂度为O(Nlogk)和O(N)的方法</p>
<h2 id="O-Nlogk"><a href="#O-Nlogk" class="headerlink" title="O(Nlogk):"></a>O(Nlogk):</h2><p>一直维护有k个数的大根堆，这个堆代表目前选出的k个最小的数，在堆里的k个元素中堆顶的元素是最小的k个数里最大的那个。接下来遍历整个数组，遍历的过程中看档期数是否比堆顶元素小，如果是，就把堆顶元素替换成档期的数，然后从堆顶的位置调整整个堆，让替换操作后堆的最大元素继续处在堆顶的位置；如果不是，则不进行任何操作，继续遍历下一个数；在遍历完成后，堆中的k个数就是所有数组中最小的k个数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getMinKNumsByHeap(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)&#123;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;<span class="number">1</span> || k&gt;arr.length)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] kHeap = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;kHeap[<span class="number">0</span>])&#123;</span><br><span class="line">            kHeap[<span class="number">0</span>] = arr[i];</span><br><span class="line">            heapify(kHeap, <span class="number">0</span>, k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> kHeap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">heapInsert</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> value, <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">    arr[index] = value;</span><br><span class="line">    <span class="keyword">while</span>(index!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> parent = (index-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(arr[parent] &lt; arr[index])&#123;</span><br><span class="line">            swap(arr, parent, index);</span><br><span class="line">            index = parent;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index, <span class="keyword">int</span> heapSize)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = index * <span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> right = index * <span class="number">2</span>+<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> largest = index;</span><br><span class="line">    <span class="keyword">while</span>(left &lt; heapSize)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[left] &gt; arr[index])&#123;</span><br><span class="line">            largest = left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(right &lt; heapSize &amp;&amp; arr[right] &gt; arr[largest])&#123;</span><br><span class="line">            largest = right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(largest!=index)&#123;</span><br><span class="line">            swap(arr, largest, index);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        index = largest;</span><br><span class="line">        left = index * <span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        right = index * <span class="number">2</span>+<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index1, <span class="keyword">int</span> index2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="O-N-：BFPRT算法："><a href="#O-N-：BFPRT算法：" class="headerlink" title="O(N)：BFPRT算法："></a>O(N)：BFPRT算法：</h2><p>在时间复杂度O(n)内，从无序的数组中找到第k小的数，显而易见的是，如果我们找到了第k小的数，那么想求arr中最小的k个数，就算再遍历一遍数组的而工作量而已。<br>假设BFPRT算法的函数是int select(int[] arr, k)，该函数的功能为在arr中找到第k小的数，然后返回该数，select(arr, k)过程如下：</p>
<ol>
<li>将arr中的n个元素划分成n/5组，每组5个元素，如果最后的组不够5个元素，那么最后剩下的元素为一组(n%5个元素)。</li>
<li>对每个组进行插入排序，只针对每个组最多五个元素之间的组内排序，组与组之间并不排序，排序后找到每个组的中位数，如果组的元素个数为偶数，则规定找到下中位数</li>
<li>步骤2中一共会找到n/5个中位数，让这些中位数组成一个新的数组，记为mArr，递归调用select(mArr, mArr.length/2),意义是找到mArr这个数组中的中位数，即mArr中第mArr.length/2小的数</li>
<li>假设步骤3中递归调用select(mArr, mArr.length/2)后，返回的数为x，根据这个x划分整个arr数组（partition过程），划分的过程为：在arr中，比x小的数都在x的左边，大于x的数都在x的右边，x在中间。假设划分完成后，x在arr中的位置记为i：</li>
<li>如果i==k，说明x为整个数组中第k小的数，直接返回<br>如果i&lt; k,说明x处在第k小的数的左边，则应该在x的右边寻找第k小的数，所以递归调用select函数， 在左半区寻找第k小的数。<br>如果i&gt;k,说明x处在第k小的数的右边，应该在x的左边寻找第k小的数，所以递归调用select函数，在右半区寻找第(i-k小的数)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getMinKNumsByBFPRT(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)&#123;</span><br><span class="line">    <span class="keyword">if</span>(k&lt;<span class="number">1</span> || k &gt; arr.length)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//找到第k小的数</span></span><br><span class="line">    <span class="keyword">int</span> minKth = getMinKthByBFPRT(arr, k);</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//把所有小于minKth的数放入res中</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;minKth)&#123;</span><br><span class="line">            res[index++] = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果不够，则说明要填充这个数</span></span><br><span class="line">    <span class="keyword">for</span>(; index!=res.length;index++)&#123;</span><br><span class="line">        res[index] = minKth;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinKthByBFPRT</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> K)</span></span>&#123;</span><br><span class="line">    <span class="comment">//为了不修改原数组，在拷贝数组上操作</span></span><br><span class="line">    <span class="keyword">int</span>[] copyArr = copyArray(arr);</span><br><span class="line">    <span class="keyword">return</span> select(copyArr, <span class="number">0</span>, copyArr.length-<span class="number">1</span>, K-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//拷贝数组</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] copyArray(<span class="keyword">int</span>[] arr)&#123;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i!=res.length;i++)&#123;</span><br><span class="line">        res[i] = arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//核心筛选函数</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">select</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(begin == end)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr[begin];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//找到中间数字</span></span><br><span class="line">    <span class="keyword">int</span> pivot = medianOfMedians(arr, begin, end);</span><br><span class="line">    <span class="comment">//以这个数字为枢轴，对大于他和小于他的数进行左右分开，也就是说，枢轴会被放置到它应该在的位置上</span></span><br><span class="line">    <span class="keyword">int</span>[] pivotRange = partition(arr, begin, end ,pivot);</span><br><span class="line">    <span class="comment">//如果这个枢轴就是要找的数，直接返回</span></span><br><span class="line">    <span class="keyword">if</span>(i&gt;=pivotRange[<span class="number">0</span>] &amp;&amp; i&lt;=pivotRange[<span class="number">1</span>])&#123;</span><br><span class="line">        <span class="keyword">return</span> arr[i];</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i&lt;pivotRange[<span class="number">0</span>])&#123; <span class="comment">//如果i小于这个枢轴索引，说明i对应的数应该在前面，则继续筛选</span></span><br><span class="line">        <span class="keyword">return</span> select(arr, begin, pivotRange[<span class="number">0</span>]-<span class="number">1</span>, i);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;  <span class="comment">//如果i大于这个枢轴索引，说明i对应的数应该在后面，则继续筛选</span></span><br><span class="line">        <span class="keyword">return</span> select(arr, pivotRange[<span class="number">1</span>]+<span class="number">1</span>, end, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">medianOfMedians</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="comment">//把整个数组5个5个分为一组</span></span><br><span class="line">    <span class="keyword">int</span> num = end - begin + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> offset = num % <span class="number">5</span> ==<span class="number">0</span>?<span class="number">0</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//mArr是所有小区间中中间数组成的新数组</span></span><br><span class="line">    <span class="keyword">int</span>[] mArr = <span class="keyword">new</span> <span class="keyword">int</span>[num/<span class="number">5</span>+offset];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;mArr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> beginI = begin+i*<span class="number">5</span>;</span><br><span class="line">        <span class="keyword">int</span> endI = beginI + <span class="number">4</span>;</span><br><span class="line">        <span class="comment">//mArr[i]是这个小区间内排序后的中间数</span></span><br><span class="line">        mArr[i] = getMedian(arr, beginI, Math.min(end, endI));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//继续进行筛选，最终找出的是整个数组中最中间的数（但是却不用把整个数组进行排序）</span></span><br><span class="line">    <span class="keyword">return</span> select(mArr, <span class="number">0</span>, mArr.length-<span class="number">1</span>, mArr.length / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对数组进行划分，即找到枢轴值的位置，并且让该值左边都是小于他，右边都是大于他</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] partition(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> pivotValue)&#123;</span><br><span class="line">    <span class="keyword">int</span> small = begin-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> cur = begin;</span><br><span class="line">    <span class="keyword">int</span> big = end +<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(cur!=big)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[cur] &lt; pivotValue)&#123;</span><br><span class="line">            swap(arr, ++small, cur++);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(arr[cur] &gt; pivotValue)&#123;</span><br><span class="line">            swap(arr, cur, --big);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cur++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] range = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    range[<span class="number">0</span>] = small + <span class="number">1</span>;</span><br><span class="line">    range[<span class="number">1</span>] = big - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> range;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对arr进行插入排序，然后找到最中间的数，返回</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMedian</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    insertionSort(arr, begin, end);</span><br><span class="line">    <span class="keyword">int</span> sum = end + begin;</span><br><span class="line">    <span class="keyword">int</span> mid = (sum/<span class="number">2</span>) + (sum % <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> arr[mid];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertionSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=begin+<span class="number">1</span>; i!=end+<span class="number">1</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j!=begin;j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j-<span class="number">1</span>]&gt;arr[j])&#123;</span><br><span class="line">                swap(arr, j-<span class="number">1</span>, j);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index1, <span class="keyword">int</span> index2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = arr[index1];</span><br><span class="line">    arr[index1] = arr[index2];</span><br><span class="line">    arr[index2] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/13/java/spring/Model%E3%80%81ModelMap%E3%80%81ModelAndView%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/13/java/spring/Model%E3%80%81ModelMap%E3%80%81ModelAndView%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">Model、ModelMap、ModelAndView的使用和区别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-13 15:06:15 / 修改时间：15:07:42" itemprop="dateCreated datePublished" datetime="2020-04-13T15:06:15+08:00">2020-04-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index"><span itemprop="name">spring</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在学习SSM框架中的SpringMVC时常常看到在控制层Controller中有的使用ModelAndView进行数据模型的传输，有的使用Model进行数据模型传输，为何有两种不同度类型进行传输呢？</p>
<h2 id="一-ModelAndView"><a href="#一-ModelAndView" class="headerlink" title="一.ModelAndView"></a>一.ModelAndView</h2><p>若返回类型为ModelAndView类型，需要方法结束时，定义ModelAndView,将model和view分别进行设置，代码方法如下：<br>-数据传递：ModelAndView通过addObject方法向页面传递数据；<br>-数据获取：JSP页面可以通过el表达式或C标签库的方法获取数据（与Model的获取方式相同）；<br>-return：return返回的是ModelAndView对象；</p>
<p>ModelAndView设置跳转地址有两个方式：<br>    第一种：在new ModelAndView时添加地址参数，如：<br>        ModelAndView mav = new ModelAndView(“test”);<br>    第二种：使用ModelAndView的setViewname(String)方法去设置，如：<br>　　　　　　mav.setViewName(“test”);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/products"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">products</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Product&gt; ps = productService.listProducts();</span><br><span class="line">    ModelAndView mav = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">	mav.addObject(<span class="string">"ps"</span>, ps);</span><br><span class="line">    mav.setViewName(<span class="string">"products"</span>); <span class="comment">//视图名称(视图的全名称为products.html 或 products.jsp)</span></span><br><span class="line">    <span class="keyword">return</span> mav;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主要步骤：</p>
<p>1.首先是创建ModelAndView对象，再调用addObject方法，参数一为该数据命名，参数二为传入实际数据列表</p>
<p>2.再调用setViewName方法设置jsp页面的路径，这里的地址前缀和后缀一般是定义好的（就像thymeleaf，前缀是classpath:/templates,后缀是.html, 要是设置的话，如果是springboot可以在配置文件中设置，mvc可以在web.xml中设置），可直接简写如上。如未有定义可以使用上方以注释的路径进行传入</p>
<p>3.最后返回modelAndView数据</p>
<h2 id="二-Model"><a href="#二-Model" class="headerlink" title="二.Model"></a>二.Model</h2><p>若方法返回String类型，则要使用Model,表示返回逻辑视图名，真正视图（jsp或html路径）=前缀+逻辑视图名+后缀，代码如下：</p>
<p>-数据传递：Model是通过addAttribute方法向页面传递数据的；<br>-数据获取：JSP页面可以通过el表达式或C标签库的方法获取数据，当然html页面也可以获取，具体就用thymeleaf的标签来做<br>-return：return返回的是指定的页面名称；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/products"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">products</span><span class="params">(Model m)</span> </span>&#123;</span><br><span class="line">	List&lt;Product&gt; ps = productService.listProducts();</span><br><span class="line">	m.addAttribute(<span class="string">"ps"</span>, ps);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"products"</span>;  <span class="comment">////视图名称(视图的全名称为products.html 或 products.jsp)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主要步骤：</p>
<p>1.在方法括号中定义Model类型</p>
<p>2.调用addAttribute方法，参数一为给数据命名，参数二为传入上面获取到的数据</p>
<p>3.最后返回jsp页面的路径</p>
<h2 id="三-ModelMap的使用"><a href="#三-ModelMap的使用" class="headerlink" title="三.ModelMap的使用"></a>三.ModelMap的使用</h2><p>　　ModelMap的使用与Model相同，ModelMap是一种特殊的Model，一般来说，Model可以接收各种类型的数据，如果接收的数据是List，那么这个时候Model实际上是ModelMap。</p>
<h2 id="Model与ModelAndView的区别"><a href="#Model与ModelAndView的区别" class="headerlink" title="Model与ModelAndView的区别"></a>Model与ModelAndView的区别</h2><p>　　第一点：Model只是用来传输数据的，并不会进行业务的寻址。ModelAndView 却是可以进行业务寻址的；所以Model的返回值是视图名称，而ModelAndView的返回值是ModelAndView对象；</p>
<p>　　第二点：Model是每一次请求可以自动创建，但是ModelAndView 是需要我们自己去new的。所以使用Model时Controller方法的参数是Model。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/11/hexo/hexo-Next%E4%B8%BB%E9%A2%98%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/11/hexo/hexo-Next%E4%B8%BB%E9%A2%98%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/" class="post-title-link" itemprop="url">hexo+Next主题详细配置说明</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-11 13:45:15 / 修改时间：13:47:22" itemprop="dateCreated datePublished" datetime="2020-04-11T13:45:15+08:00">2020-04-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前情<br>之前的文章已经说明了hexo这一框架的搭建过程，本文对该框架如何配置，以及Next主题的配置来一个说明，按着文章的说明慢慢走一遍，属于自己的博客就可以呈现出来啦。也欢迎到我的博客中观看哦~<br>配置说明<br>我个人选择的是Next这一主题，这一主题是由中国人开发，具有中文文档，并且我很喜欢它的设计风格。下面的配置也是围绕这个主题进行的，如果喜欢别的主题，可以到hexo的主题页选择，并根据文档说明尽心配置。</p>
<p>Next主题安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> hexo   <span class="comment"># 进入博客根目录</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>
<p>hexo配置<br>编辑博客根目录下的_config.yml文件：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span>                  <span class="comment"># 博客名称</span></span><br><span class="line"><span class="attr">subtitle:</span>               <span class="comment"># 博客子标题</span></span><br><span class="line"><span class="attr">description:</span>            <span class="comment"># 作者描述</span></span><br><span class="line"><span class="attr">keywords:</span>               <span class="comment"># 站点关键词，用于搜索优化</span></span><br><span class="line"><span class="attr">author:</span>                 <span class="comment"># 博主名</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span>         <span class="comment"># 站点语言</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span> <span class="comment"># 时区</span></span><br><span class="line"><span class="comment"># 注意</span></span><br><span class="line"><span class="comment"># 语言这里需要进入 /***/themes/next/languages/ 目录</span></span><br><span class="line"><span class="comment"># 不同版本的语言名称可能有些许差别</span></span><br><span class="line"><span class="comment"># *** 为博客根目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://yoursite.com</span>                <span class="comment"># 你的域名，如果有 </span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing                       # 博文相关</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span>        <span class="comment"># 博文的格式，默认markdown编辑 </span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span>            <span class="comment"># 默认发布的为post，即默认发布的是文章</span></span><br><span class="line">                                <span class="comment"># 共有三种类型，具体见hexo文档</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = '')</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">''</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span>              <span class="comment"># 首页每页展示的文章数</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span>           <span class="comment"># 按日期逆序</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span>                 <span class="comment"># 使用的主题，这里选用的是Next主题        </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment                # 下面是第三方扩展，根据个人需求设置，也可不修改以下内容</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">search:</span>                     <span class="comment"># 实现搜索文章的功能</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="attr">feed:</span>                       <span class="comment"># 实现博客订阅功能</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="attr">sitemap:</span>                    <span class="comment"># 生成站点地图用于SEO优化</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"></span><br><span class="line"><span class="attr">baidusitmap:</span>                <span class="comment"># 同上</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure>
<p>Next配置<br>编辑 /<strong><em>/themes/next/_config.yml（其中</em></strong>为博客根目录）文件：<br>注意：<br>该主题内置了大量的第三方插件，使用极其方便，并且在该配置文件中都指明了该三方插件的文档网址，所以在这里只对基础功能进行说明。如果有需求，可浏览相关文档配置出属于自己的博客~</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Site Information Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To get or check favicons visit: https://realfavicongenerator.net</span></span><br><span class="line"><span class="comment"># Put your favicons into `hexo-site/source/` (recommend) or `hexo-site/themes/next/source/images/` directory.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Default NexT favicons placed in `hexo-site/themes/next/source/images/` directory.</span></span><br><span class="line"><span class="comment"># And if you want to place your icons in `hexo-site/source/` root directory, you must remove `/images` prefix from pathes.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For example, you put your favicons into `hexo-site/source/images` directory.</span></span><br><span class="line"><span class="comment"># Then need to rename &amp; redefine they on any other names, otherwise icons from Next will rewrite your custom icons in Hexo.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下设置网站的logo，建议用400*400制作好原图</span></span><br><span class="line"><span class="comment"># 然后访问https://realfavicongenerator.net生成各种类型的logo</span></span><br><span class="line"><span class="comment"># 放置于 ***/themes/next/source/images/目录下，***为博客根目录</span></span><br><span class="line"></span><br><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/favicon-16x16.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/favicon-32x32.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/apple-touch-icon.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/safari-pinned-tab.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set rss to false to disable feed link.</span></span><br><span class="line"><span class="comment"># Leave rss as empty to use site's feed link, and install hexo-generator-feed: `npm install hexo-generator-feed --save`.</span></span><br><span class="line"><span class="comment"># Set rss to specific value if you have burned your feed already.</span></span><br><span class="line"><span class="attr">rss:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># Specify the date when the site was setup.</span></span><br><span class="line">  <span class="comment"># If not defined, current year will be used.</span></span><br><span class="line">  <span class="comment">#since: 2015</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Icon between year and copyright info.</span></span><br><span class="line">  <span class="attr">icon:</span></span><br><span class="line">    <span class="comment"># Icon name in fontawesome, see: https://fontawesome.com/v4.7.0/icons</span></span><br><span class="line">    <span class="comment"># `heart` is recommended with animation in red (#ff0000).</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">user</span></span><br><span class="line">    <span class="comment"># If you want to animate the icon, set it to true.</span></span><br><span class="line">    <span class="attr">animated:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Change the color of icon, using Hex Code.</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">"#808080"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If not defined, will be used `author` from Hexo main config.</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">  <span class="comment"># -------------------------------------------------------------</span></span><br><span class="line">  <span class="attr">powered:</span></span><br><span class="line">    <span class="comment"># Hexo link (Powered by Hexo).</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Version info of Hexo after Hexo link (vX.X.X).</span></span><br><span class="line">    <span class="attr">version:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="comment"># Theme &amp; scheme info link (Theme - NexT.scheme).</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Version info of NexT after scheme info (vX.X.X).</span></span><br><span class="line">    <span class="attr">version:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># -------------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># Any custom text can be defined here.</span></span><br><span class="line">  <span class="comment">#custom_text: Hosted by &lt;a target="_blank" rel="external nofollow" href="https://pages.coding.me"&gt;&lt;b&gt;Coding Pages&lt;/b&gt;&lt;/a&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># SEO Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SEO 相关设置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Canonical, set a canonical link tag in your hexo, you could use it for your SEO of blog.</span></span><br><span class="line"><span class="comment"># See: https://support.google.com/webmasters/answer/139066</span></span><br><span class="line"><span class="comment"># Tips: Before you open this tag, remember set up your URL in hexo _config.yml ( ex. url: http://yourdomain.com )</span></span><br><span class="line"><span class="attr">canonical:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Change headers hierarchy on site-subtitle (will be main site description) and on all post/pages titles for better SEO-optimization.</span></span><br><span class="line"><span class="attr">seo:</span> <span class="literal">true</span>           <span class="comment"># 开启seo优化</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If true, will add site-subtitle to index page, added in main hexo config.</span></span><br><span class="line"><span class="comment"># subtitle: Subtitle</span></span><br><span class="line"><span class="attr">index_with_subtitle:</span> <span class="literal">true</span>       <span class="comment"># 网页搜索及标签页显示副标题</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Menu Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).</span></span><br><span class="line"><span class="comment"># Usage: `Key: /link/ || icon`</span></span><br><span class="line"><span class="comment"># Key is the name of menu item. If translate for this menu will find in languages - this translate will be loaded; if not - Key name will be used. Key is case-senstive.</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target link.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, question icon will be loaded.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下为主菜单按键设置，不需要的在行首用#注释掉</span></span><br><span class="line"><span class="comment"># 启用的标签页需要创建相应的目录</span></span><br><span class="line"><span class="comment"># 例如：</span></span><br><span class="line"><span class="comment"># cd ***                    # 进入微博根目录</span></span><br><span class="line"><span class="comment"># hexo new page about       # 创建about页面</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line">  <span class="comment">#tags: /tags/ || tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="comment">#archives: /archives/ || archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable/Disable menu icons / item badges.</span></span><br><span class="line"><span class="attr">menu_settings:</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">badges:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Scheme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 主题风格设置</span></span><br><span class="line"><span class="comment"># 选用哪个就去掉哪个的#</span></span><br><span class="line"><span class="comment"># 样例可在next文档中查看</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Sidebar Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 主页面菜单栏设置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Posts / Categories / Tags in sidebar.</span></span><br><span class="line"><span class="attr">site_state:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Social Links.</span></span><br><span class="line"><span class="comment"># Usage: `Key: permalink || icon`</span></span><br><span class="line"><span class="comment"># Key is the link label showing to end users.</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target permalink.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.</span></span><br><span class="line"><span class="comment">#social:</span></span><br><span class="line">  <span class="comment">#GitHub: https://github.com/yourname || github</span></span><br><span class="line">  <span class="comment">#E-Mail: mailto:yourname@gmail.com || envelope</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br><span class="line"></span><br><span class="line"><span class="attr">social_icons:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">icons_only:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">transition:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Dependencies: exturl: true in Tags Settings section below.</span></span><br><span class="line">  <span class="comment"># To encrypt links above use https://www.base64encode.org</span></span><br><span class="line">  <span class="comment"># Example encoded link: `GitHub: aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQ= || github`</span></span><br><span class="line">  <span class="attr">exturl:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Follow me on GitHub banner in right-top corner.</span></span><br><span class="line"><span class="comment"># Usage: `permalink || title`</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target permalink.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the title and aria-label name.</span></span><br><span class="line"><span class="comment">#github_banner: https://github.com/yourname || Follow me on GitHub</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line"><span class="attr">links_icon:</span> <span class="string">link</span></span><br><span class="line"><span class="attr">links_title:</span> <span class="string">Links</span></span><br><span class="line"><span class="attr">links_layout:</span> <span class="string">block</span></span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line"><span class="comment">#links:</span></span><br><span class="line">  <span class="comment">#Title: http://example.com/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="comment"># 头像设置</span></span><br><span class="line"><span class="comment"># 将图片放置于 ***/themes/next/source/images/目录下，***为博客根目录</span></span><br><span class="line"><span class="comment"># 图片不要过大，不利于加载</span></span><br><span class="line"></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># in theme directory(source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># in site  directory(source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/touxiang.jpg</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line">  <span class="comment">#rounded: false</span></span><br><span class="line">  <span class="comment"># The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Table Of Contents in the Sidebar</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If true, all words will placed on next lines if header width longer then sidebar width.</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Creative Commons 4.0 International License.</span></span><br><span class="line"><span class="comment"># http://creativecommons.org/</span></span><br><span class="line"><span class="comment"># Available: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span></span><br><span class="line"><span class="comment">#creative_commons: by-nc-sa</span></span><br><span class="line"><span class="comment">#creative_commons:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 菜单栏放置于左边还是右边</span></span><br><span class="line"></span><br><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position, available value: left | right (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span></span><br><span class="line">  <span class="comment">#position: right</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Manual define the sidebar width.</span></span><br><span class="line">  <span class="comment"># If commented, will be default for:</span></span><br><span class="line">  <span class="comment"># Muse | Mist: 320</span></span><br><span class="line">  <span class="comment"># Pisces | Gemini: 240</span></span><br><span class="line">  <span class="comment">#width: 300</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display, available value (only for Muse | Mist):</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  <span class="comment">#  - remove  Totally remove sidebar including sidebar toggle.</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span></span><br><span class="line">  <span class="comment">#display: always</span></span><br><span class="line">  <span class="comment">#display: hide</span></span><br><span class="line">  <span class="comment">#display: remove</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="attr">offset:</span> <span class="number">12</span>            <span class="comment"># 文章索引与顶部的距离</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Back to top in sidebar (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="attr">b2t:</span> <span class="literal">false</span>            <span class="comment"># 回到顶部是否置于菜单栏下方</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Enable sidebar on narrow view (only for Muse | Mist).</span></span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Post Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically scroll page to section which is under &lt;!-- more --&gt; mark.</span></span><br><span class="line"><span class="attr">scroll_to_more:</span> <span class="literal">false</span>           <span class="comment"># 是否自动进行“查看全文”标记</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically saving scroll position on each post/page in cookies.</span></span><br><span class="line"><span class="attr">save_scroll:</span> <span class="literal">false</span>              <span class="comment"># 是否记录浏览位置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically excerpt description in homepage as preamble text.</span></span><br><span class="line"><span class="attr">excerpt_description:</span> <span class="literal">true</span>       <span class="comment"># 是否自动摘录作为前言</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically Excerpt. Not recommend.</span></span><br><span class="line"><span class="comment"># Please use &lt;!-- more --&gt; in the post to control excerpt accurately.</span></span><br><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post meta display settings</span></span><br><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">item_text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">created_at:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">updated_at:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># If true, show updated date label only if `updated date` different from 'created date' (post edited in another day than was created).</span></span><br><span class="line">    <span class="comment"># And if post will edited in same day as created, edited time will show in popup title under created time label.</span></span><br><span class="line">    <span class="comment"># If false show anyway, but if post edited in same day, show only edited time.</span></span><br><span class="line">    <span class="attr">another_day:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span></span><br><span class="line"></span><br><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Manual define the border radius in codeblock</span></span><br><span class="line">  <span class="comment"># Leave it empty for the default 1</span></span><br><span class="line">  <span class="attr">border_radius:</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Show text copy result</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 微信订阅相关设置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Wechat Subscriber</span></span><br><span class="line"><span class="comment">#wechat_subscriber:</span></span><br><span class="line">  <span class="comment">#enabled: true</span></span><br><span class="line">  <span class="comment">#qcode: /path/to/your/wechatqcode ex. /uploads/wechat-qcode.jpg</span></span><br><span class="line">  <span class="comment">#description: ex. subscribe to my blog by scanning my public wechat account</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reward                            # 打赏相关设置</span></span><br><span class="line"><span class="comment">#reward_comment: Donate comment here</span></span><br><span class="line"><span class="comment">#wechatpay: /images/wechatpay.jpg</span></span><br><span class="line"><span class="comment">#alipay: /images/alipay.jpg</span></span><br><span class="line"><span class="comment">#bitcoin: /images/bitcoin.png</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Related popular posts</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/tea3/hexo-related-popular-posts</span></span><br><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">title:</span> <span class="comment"># custom header, leave empty to use the default one</span></span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0</span></span><br><span class="line">    <span class="comment">#isDate: false</span></span><br><span class="line">    <span class="comment">#isImage: false</span></span><br><span class="line">    <span class="comment">#isExcerpt: false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Declare license on posts</span></span><br><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">&lt;a</span> <span class="string">href="https://creativecommons.org/licenses/by-nc-sa/4.0/"</span> <span class="string">rel="external</span> <span class="string">nofollow"</span> <span class="string">target="_blank"&gt;CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span><span class="string">&lt;/a&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/hexojs/hexo-deployer-git</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://github.com/theme-next/theme-next.org/_posts/tree/master/</span> <span class="comment"># Link for view source.</span></span><br><span class="line"><span class="comment"># url: https://github.com/theme-next/theme-next.org/_posts/edit/master/ # Link for fork &amp; edit.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Misc Theme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reduce padding / margin indents on devices with narrow width.</span></span><br><span class="line"><span class="attr">mobile_layout_economy:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Android Chrome header panel color ($brand-bg / $headband-bg =&gt; $black-deep).</span></span><br><span class="line"><span class="attr">android_chrome_color:</span> <span class="string">"#222"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom Logo.</span></span><br><span class="line"><span class="comment"># !!Only available for Default Scheme currently.</span></span><br><span class="line"><span class="comment"># Options:</span></span><br><span class="line"><span class="comment">#   enabled: [true/false] - Replace with specific image</span></span><br><span class="line"><span class="comment">#   image: url-of-image   - Images's url</span></span><br><span class="line"><span class="attr">custom_logo:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">image:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Code Highlight theme</span></span><br><span class="line"><span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="comment"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="attr">highlight_theme:</span> <span class="string">night</span> <span class="string">eighties</span>             <span class="comment"># 代码高亮风格</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable "cheers" for archive page.</span></span><br><span class="line"><span class="attr">cheers_enabled:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Font Settings</span></span><br><span class="line"><span class="comment"># - Find fonts on Google Fonts (https://www.google.com/fonts)</span></span><br><span class="line"><span class="comment"># - All fonts set here will have the following styles:</span></span><br><span class="line"><span class="comment">#     light, light italic, normal, normal italic, bold, bold italic</span></span><br><span class="line"><span class="comment"># - Be aware that setting too much fonts will cause site running slowly</span></span><br><span class="line"><span class="comment"># - Introduce in 5.0.1</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># CAUTION! Safari Version 10.1.2 <span class="doctag">bug:</span> https://github.com/iissnan/hexo-theme-next/issues/1844</span></span><br><span class="line"><span class="comment"># To avoid space between header and sidebar in Pisces / Gemini themes recommended to use Web Safe fonts for `global` (and `logo`):</span></span><br><span class="line"><span class="comment"># Arial | Tahoma | Helvetica | Times New Roman | Courier New | Verdana | Georgia | Palatino | Garamond | Comic Sans MS | Trebuchet MS</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字体相关设置</span></span><br><span class="line"><span class="comment"># 因为上述的谷歌字体中没有中文支持</span></span><br><span class="line"><span class="comment"># 所以下列一般只改字体大小</span></span><br><span class="line"></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Uri of fonts host. E.g. //fonts.googleapis.com (Default).</span></span><br><span class="line">  <span class="attr">host:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font options:</span></span><br><span class="line">  <span class="comment"># `external: true` will load this font family from `host` above.</span></span><br><span class="line">  <span class="comment"># `family: Times New Roman`. Without any quotes.</span></span><br><span class="line">  <span class="comment"># `size: xx`. Use `px` as unit.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Global font settings used for all elements in &lt;body&gt;.</span></span><br><span class="line">  <span class="attr">global:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span> <span class="string">Lato</span></span><br><span class="line">    <span class="attr">size:</span> <span class="number">18</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Headlines (H1, H2, H3, H4, H5, H6).</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  <span class="attr">headings:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span></span><br><span class="line">    <span class="attr">size:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for posts.</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  <span class="attr">posts:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Logo.</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  <span class="attr">logo:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span></span><br><span class="line">    <span class="attr">size:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for &lt;code&gt; and code blocks.</span></span><br><span class="line">  <span class="attr">codes:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">family:</span></span><br><span class="line">    <span class="attr">size:</span> <span class="number">14</span></span><br></pre></td></tr></table></figure>
<p>收工部分<br>在配置过程中，可运行hexo服务器实时观看配置效果，hexo配置的修改需要重启hexo服务器才能生效，主题配置的修改保存后刷新页面即可生效。配置完成后，需要生成静态文件：</p>
<pre><code>cd  xxx/  
hexo generate</code></pre><p>生成的静态文件在 /xxx/public 目录下，如果是托管在github上的话，在网上查找相关教程即可，教程极其丰富。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lujianyun06.github.io/2020/04/10/hexo/%E5%88%9B%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lu.jpg">
      <meta itemprop="name" content="CloudLander~Lu">
      <meta itemprop="description" content="记录学习生活，力求每日进步">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CloudLander's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/10/hexo/%E5%88%9B%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">创建hexo博客教程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-10 23:39:36" itemprop="dateCreated datePublished" datetime="2020-04-10T23:39:36+08:00">2020-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-11 12:56:11" itemprop="dateModified" datetime="2020-04-11T12:56:11+08:00">2020-04-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-新建仓库"><a href="#1-新建仓库" class="headerlink" title="1. 新建仓库"></a>1. 新建仓库</h1><p>上 github 新建一个仓库，仓库名必须为 <user-name>.github.io 格式，其中 <user-name> 是你 github 的昵称。不要问我为什么，问我我也不想回答你。</p>
<h1 id="2-全局安装hexo"><a href="#2-全局安装hexo" class="headerlink" title="2. 全局安装hexo"></a>2. 全局安装hexo</h1><p>打开命令行，输入下面的命令，全局安装 hexo。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure>
<h1 id="3-初始化项目"><a href="#3-初始化项目" class="headerlink" title="3. 初始化项目"></a>3. 初始化项目</h1><p>Just one 命令，hexo init，就会自动构建一个 hexo 项目，紧接着执行 hexo s，浏览器访问 localhost:4000 就可以看到效果啦！过程一定要快，凉了就不好吃了！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br><span class="line"></span><br><span class="line">// 本地运行</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<h1 id="4-部署到github"><a href="#4-部署到github" class="headerlink" title="4. 部署到github"></a>4. 部署到github</h1><p>快速在项目根目录下找到  _congif.yml，找到 deploy 字段并填写完整，下面请开始你上学时最擅长的事情：抄写！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: &lt;你的仓库地址&gt; <span class="comment"># https://github.com/TJ-XiaJiaHao/TJ-XiaJiaHao.github.io</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>抄写完毕！但是！我们需要额外的一个工具来帮助我们推到仓库上，那就是！那就是！那就是 hexo-deployer-git。搞它！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>万事俱备，只欠东南风！执行下面两个命令，就可以把项目自动部署到 github 上。<br>这俩命令顺序一定不能错</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line"></span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>查看效果</li>
</ol>
<p>浏览器访问：<a href="https://lujianyun06.github.io/">https://lujianyun06.github.io/</a> 即可看到效果。<br>至此，已经完成了个人博客的搭建，也可以在浏览器中访问，下面将介绍一些常用的野外生存技能。</p>
<p>如何创建新文章</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// [layout] 为布局，可选项为 `post`、`page`、`draft`，这将决定文章所在文件路径。</span><br><span class="line">// &lt;title&gt; 为文章标题</span><br><span class="line">// 如 hexo <span class="keyword">new</span> post 除了帅气，我还有啥！</span><br><span class="line">hexo <span class="keyword">new</span> [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>
<p>更换主题皮肤<br>风格不喜欢？换之。</p>
<p>更换主题流程：下载主题 -&gt; 配置主题，以 xoxo 为例</p>
<h1 id="下载到themes文件夹下"><a href="#下载到themes文件夹下" class="headerlink" title="下载到themes文件夹下"></a>下载到themes文件夹下</h1><p>git clone <a href="https://github.com/KevinOfNeu/hexo-theme-xoxo" target="_blank" rel="noopener">https://github.com/KevinOfNeu/hexo-theme-xoxo</a> xoxo</p>
<h1 id="修改-config-yml-配置"><a href="#修改-config-yml-配置" class="headerlink" title="修改 _config.yml 配置"></a>修改 _config.yml 配置</h1><p>theme: xoxo<br>部署优化<br>每次都要执行 hexo clean 和 hexo deploy，不如写个新的脚本</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line">"dev": "hexo s",</span><br><span class="line">"build": "hexo clean &amp;&amp; hexo deploy"</span><br></pre></td></tr></table></figure>

<p>部署命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CloudLander~Lu"
      src="/images/lu.jpg">
  <p class="site-author-name" itemprop="name">CloudLander~Lu</p>
  <div class="site-description" itemprop="description">记录学习生活，力求每日进步</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/lujianyun06" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lujianyun06" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lujianyun66@163.com" title="E-Mail → mailto:lujianyun66@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fas fa-cloud"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CloudLander~Lu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
